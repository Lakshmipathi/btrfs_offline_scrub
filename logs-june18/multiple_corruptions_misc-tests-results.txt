$TEST_DEV not given, use /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/test/test.img as fallback
------------------RAID5 Corruption------------------
Filename=file128k.txt Total Stripes=2 	      Data Stripe to be corrupted=1
############### losetup --find --show img1
/dev/loop0
############### losetup --find --show img2
/dev/loop1
############### losetup --find --show img3
/dev/loop2
############### /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/mkfs.btrfs -f -d raid5 -m raid5 /dev/loop0 /dev/loop1 /dev/loop2
btrfs-progs v3.18-rc1-1924-g07ea395
See http://btrfs.wiki.kernel.org for more information.

Performing full device TRIM /dev/loop0 (512.00MiB) ...
Performing full device TRIM /dev/loop1 (512.00MiB) ...
Performing full device TRIM /dev/loop2 (512.00MiB) ...
Label:              (null)
UUID:               20f4f6a6-3212-4ff4-bf25-d0e3b0cb96fc
Node size:          16384
Sector size:        4096
Filesystem size:    1.50GiB
Block group profiles:
  Data:             RAID5           128.00MiB
  Metadata:         RAID5           102.38MiB
  System:           RAID5            16.00MiB
SSD detected:       no
Incompat features:  extref, raid56, skinny-metadata
Number of devices:  3
Devices:
   ID        SIZE  PATH
    1   512.00MiB  /dev/loop0
    2   512.00MiB  /dev/loop1
    3   512.00MiB  /dev/loop2

############### mount /dev/loop0 /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/tests/mnt
############### /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/btrfs inspect-internal dump-tree /dev/loop0
btrfs-progs v3.18-rc1-1924-g07ea395
root tree
leaf 37961728 items 16 free space 12515 generation 7 owner 1
leaf 37961728 flags 0x1(WRITTEN) backref revision 1
fs uuid 20f4f6a6-3212-4ff4-bf25-d0e3b0cb96fc
chunk uuid 611c8295-94bc-49ba-9e17-651742e66fb1
	item 0 key (EXTENT_TREE ROOT_ITEM 0) itemoff 15844 itemsize 439
		generation 7 root_dirid 0 bytenr 37945344 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		drop key (0 UNKNOWN.0 0) level 0
	item 1 key (DEV_TREE ROOT_ITEM 0) itemoff 15405 itemsize 439
		generation 6 root_dirid 0 bytenr 37896192 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		drop key (0 UNKNOWN.0 0) level 0
	item 2 key (FS_TREE INODE_REF 6) itemoff 15388 itemsize 17
		inode ref index 0 namelen 7 name: default
	item 3 key (FS_TREE ROOT_ITEM 0) itemoff 14949 itemsize 439
		generation 7 root_dirid 256 bytenr 37994496 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		ctransid 7 otransid 0 stransid 0 rtransid 0
		drop key (0 UNKNOWN.0 0) level 0
	item 4 key (ROOT_TREE_DIR INODE_ITEM 0) itemoff 14789 itemsize 160
		inode generation 3 transid 0 size 0 nbytes 16384
		block group 0 mode 40755 links 1 uid 0 gid 0 rdev 0
		sequence 0 flags 0x0(none)
		atime 1497765001.0 (2017-06-18 11:20:01)
		ctime 1497765001.0 (2017-06-18 11:20:01)
		mtime 1497765001.0 (2017-06-18 11:20:01)
		otime 1497765001.0 (2017-06-18 11:20:01)
	item 5 key (ROOT_TREE_DIR INODE_REF 6) itemoff 14777 itemsize 12
		inode ref index 0 namelen 2 name: ..
	item 6 key (ROOT_TREE_DIR DIR_ITEM 2378154706) itemoff 14740 itemsize 37
		location key (FS_TREE ROOT_ITEM -1) type DIR
		transid 0 data_len 0 name_len 7
		name: default
	item 7 key (CSUM_TREE ROOT_ITEM 0) itemoff 14301 itemsize 439
		generation 7 root_dirid 0 bytenr 37978112 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		drop key (0 UNKNOWN.0 0) level 0
	item 8 key (UUID_TREE ROOT_ITEM 0) itemoff 13862 itemsize 439
		generation 6 root_dirid 0 bytenr 37765120 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 1972331a-71bd-9e46-aabd-f55925ff78dc
		drop key (0 UNKNOWN.0 0) level 0
	item 9 key (256 INODE_ITEM 0) itemoff 13702 itemsize 160
		inode generation 7 transid 7 size 65536 nbytes 131072
		block group 0 mode 100600 links 1 uid 0 gid 0 rdev 0
		sequence 27 flags 0x2(NODATASUM|NODATACOW|NOCOMPRESS|PREALLOC)
		atime 0.0 (1970-01-01 05:30:00)
		ctime 1497765007.966076971 (2017-06-18 11:20:07)
		mtime 0.0 (1970-01-01 05:30:00)
		otime 0.0 (1970-01-01 05:30:00)
	item 10 key (256 EXTENT_DATA 0) itemoff 13649 itemsize 53
		generation 7 type 1 (regular)
		extent data disk byte 145358848 nr 65536
		extent data offset 0 nr 65536 ram 65536
		extent compression 0 (none)
	item 11 key (257 INODE_ITEM 0) itemoff 13489 itemsize 160
		inode generation 7 transid 7 size 65536 nbytes 131072
		block group 0 mode 100600 links 1 uid 0 gid 0 rdev 0
		sequence 27 flags 0x2(NODATASUM|NODATACOW|NOCOMPRESS|PREALLOC)
		atime 0.0 (1970-01-01 05:30:00)
		ctime 1497765007.966076971 (2017-06-18 11:20:07)
		mtime 0.0 (1970-01-01 05:30:00)
		otime 0.0 (1970-01-01 05:30:00)
	item 12 key (257 EXTENT_DATA 0) itemoff 13436 itemsize 53
		generation 7 type 1 (regular)
		extent data disk byte 145424384 nr 65536
		extent data offset 0 nr 65536 ram 65536
		extent compression 0 (none)
	item 13 key (FREE_SPACE UNTYPED 37748736) itemoff 13395 itemsize 41
		location key (256 INODE_ITEM 0)
		cache generation 7 entries 6 bitmaps 0
	item 14 key (FREE_SPACE UNTYPED 145096704) itemoff 13354 itemsize 41
		location key (257 INODE_ITEM 0)
		cache generation 7 entries 3 bitmaps 0
	item 15 key (DATA_RELOC_TREE ROOT_ITEM 0) itemoff 12915 itemsize 439
		generation 4 root_dirid 256 bytenr 37830656 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		drop key (0 UNKNOWN.0 0) level 0
chunk tree
leaf 20987904 items 6 free space 15407 generation 5 owner 3
leaf 20987904 flags 0x1(WRITTEN) backref revision 1
fs uuid 20f4f6a6-3212-4ff4-bf25-d0e3b0cb96fc
chunk uuid 611c8295-94bc-49ba-9e17-651742e66fb1
	item 0 key (DEV_ITEMS DEV_ITEM 1) itemoff 16185 itemsize 98
		devid 1 total_bytes 536870912 bytes_used 129171456
		io_align 4096 io_width 4096 sector_size 4096 type 0
		generation 0 start_offset 0 dev_group 0
		seek_speed 0 bandwidth 0
		uuid e4785cc5-b002-4d84-aa32-a98662c24a59
		fsid 20f4f6a6-3212-4ff4-bf25-d0e3b0cb96fc
	item 1 key (DEV_ITEMS DEV_ITEM 2) itemoff 16087 itemsize 98
		devid 2 total_bytes 536870912 bytes_used 129171456
		io_align 4096 io_width 4096 sector_size 4096 type 0
		generation 0 start_offset 0 dev_group 0
		seek_speed 0 bandwidth 0
		uuid 9f08845d-ac25-4874-adea-2040b584a823
		fsid 20f4f6a6-3212-4ff4-bf25-d0e3b0cb96fc
	item 2 key (DEV_ITEMS DEV_ITEM 3) itemoff 15989 itemsize 98
		devid 3 total_bytes 536870912 bytes_used 129171456
		io_align 4096 io_width 4096 sector_size 4096 type 0
		generation 0 start_offset 0 dev_group 0
		seek_speed 0 bandwidth 0
		uuid 2eab6cd6-0b4c-4fc9-9632-6dd3e2829594
		fsid 20f4f6a6-3212-4ff4-bf25-d0e3b0cb96fc
	item 3 key (FIRST_CHUNK_TREE CHUNK_ITEM 20971520) itemoff 15845 itemsize 144
		length 16777216 owner 2 stripe_len 65536 type SYSTEM|RAID5
		io_align 65536 io_width 65536 sector_size 4096
		num_stripes 3 sub_stripes 0
			stripe 0 devid 3 offset 1048576
			dev_uuid 2eab6cd6-0b4c-4fc9-9632-6dd3e2829594
			stripe 1 devid 2 offset 1048576
			dev_uuid 9f08845d-ac25-4874-adea-2040b584a823
			stripe 2 devid 1 offset 20971520
			dev_uuid e4785cc5-b002-4d84-aa32-a98662c24a59
	item 4 key (FIRST_CHUNK_TREE CHUNK_ITEM 37748736) itemoff 15701 itemsize 144
		length 107347968 owner 2 stripe_len 65536 type METADATA|RAID5
		io_align 65536 io_width 65536 sector_size 4096
		num_stripes 3 sub_stripes 0
			stripe 0 devid 3 offset 9437184
			dev_uuid 2eab6cd6-0b4c-4fc9-9632-6dd3e2829594
			stripe 1 devid 2 offset 9437184
			dev_uuid 9f08845d-ac25-4874-adea-2040b584a823
			stripe 2 devid 1 offset 29360128
			dev_uuid e4785cc5-b002-4d84-aa32-a98662c24a59
	item 5 key (FIRST_CHUNK_TREE CHUNK_ITEM 145096704) itemoff 15557 itemsize 144
		length 134217728 owner 2 stripe_len 65536 type DATA|RAID5
		io_align 65536 io_width 65536 sector_size 4096
		num_stripes 3 sub_stripes 0
			stripe 0 devid 3 offset 63111168
			dev_uuid 2eab6cd6-0b4c-4fc9-9632-6dd3e2829594
			stripe 1 devid 2 offset 63111168
			dev_uuid 9f08845d-ac25-4874-adea-2040b584a823
			stripe 2 devid 1 offset 83034112
			dev_uuid e4785cc5-b002-4d84-aa32-a98662c24a59
extent tree key (EXTENT_TREE ROOT_ITEM 0) 
leaf 37945344 items 14 free space 15438 generation 7 owner 2
leaf 37945344 flags 0x1(WRITTEN) backref revision 1
fs uuid 20f4f6a6-3212-4ff4-bf25-d0e3b0cb96fc
chunk uuid 611c8295-94bc-49ba-9e17-651742e66fb1
	item 0 key (20971520 BLOCK_GROUP_ITEM 16777216) itemoff 16259 itemsize 24
		block group used 16384 chunk_objectid 256 flags SYSTEM|RAID5
	item 1 key (20987904 METADATA_ITEM 0) itemoff 16226 itemsize 33
		extent refs 1 gen 5 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 3
	item 2 key (37748736 BLOCK_GROUP_ITEM 107347968) itemoff 16202 itemsize 24
		block group used 114688 chunk_objectid 256 flags METADATA|RAID5
	item 3 key (37765120 METADATA_ITEM 0) itemoff 16169 itemsize 33
		extent refs 1 gen 6 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 9
	item 4 key (37830656 METADATA_ITEM 0) itemoff 16136 itemsize 33
		extent refs 1 gen 4 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 18446744073709551607
	item 5 key (37896192 METADATA_ITEM 0) itemoff 16103 itemsize 33
		extent refs 1 gen 6 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 4
	item 6 key (37945344 METADATA_ITEM 0) itemoff 16070 itemsize 33
		extent refs 1 gen 7 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 2
	item 7 key (37961728 METADATA_ITEM 0) itemoff 16037 itemsize 33
		extent refs 1 gen 7 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 1
	item 8 key (37978112 METADATA_ITEM 0) itemoff 16004 itemsize 33
		extent refs 1 gen 7 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 7
	item 9 key (37994496 METADATA_ITEM 0) itemoff 15971 itemsize 33
		extent refs 1 gen 7 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 5
	item 10 key (145096704 BLOCK_GROUP_ITEM 134217728) itemoff 15947 itemsize 24
		block group used 262144 chunk_objectid 256 flags DATA|RAID5
	item 11 key (145227776 EXTENT_ITEM 131072) itemoff 15894 itemsize 53
		extent refs 1 gen 7 flags DATA
		extent data backref root 5 objectid 257 offset 0 count 1
	item 12 key (145358848 EXTENT_ITEM 65536) itemoff 15841 itemsize 53
		extent refs 1 gen 7 flags DATA
		extent data backref root 1 objectid 256 offset 0 count 1
	item 13 key (145424384 EXTENT_ITEM 65536) itemoff 15788 itemsize 53
		extent refs 1 gen 7 flags DATA
		extent data backref root 1 objectid 257 offset 0 count 1
device tree key (DEV_TREE ROOT_ITEM 0) 
leaf 37896192 items 12 free space 15431 generation 6 owner 4
leaf 37896192 flags 0x1(WRITTEN) backref revision 1
fs uuid 20f4f6a6-3212-4ff4-bf25-d0e3b0cb96fc
chunk uuid 611c8295-94bc-49ba-9e17-651742e66fb1
	item 0 key (0 PERSISTENT_ITEM 1) itemoff 16243 itemsize 40
		persistent item objectid 0 offset 1
		device stats
		write_errs 0 read_errs 0 flush_errs 0 corruption_errs 0 generation 0
	item 1 key (0 PERSISTENT_ITEM 2) itemoff 16203 itemsize 40
		persistent item objectid 0 offset 2
		device stats
		write_errs 0 read_errs 0 flush_errs 0 corruption_errs 0 generation 0
	item 2 key (0 PERSISTENT_ITEM 3) itemoff 16163 itemsize 40
		persistent item objectid 0 offset 3
		device stats
		write_errs 0 read_errs 0 flush_errs 0 corruption_errs 0 generation 0
	item 3 key (1 DEV_EXTENT 20971520) itemoff 16115 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 20971520 length 8388608
		chunk_tree_uuid 611c8295-94bc-49ba-9e17-651742e66fb1
	item 4 key (1 DEV_EXTENT 29360128) itemoff 16067 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 37748736 length 53673984
		chunk_tree_uuid 611c8295-94bc-49ba-9e17-651742e66fb1
	item 5 key (1 DEV_EXTENT 83034112) itemoff 16019 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 145096704 length 67108864
		chunk_tree_uuid 611c8295-94bc-49ba-9e17-651742e66fb1
	item 6 key (2 DEV_EXTENT 1048576) itemoff 15971 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 20971520 length 8388608
		chunk_tree_uuid 611c8295-94bc-49ba-9e17-651742e66fb1
	item 7 key (2 DEV_EXTENT 9437184) itemoff 15923 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 37748736 length 53673984
		chunk_tree_uuid 611c8295-94bc-49ba-9e17-651742e66fb1
	item 8 key (2 DEV_EXTENT 63111168) itemoff 15875 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 145096704 length 67108864
		chunk_tree_uuid 611c8295-94bc-49ba-9e17-651742e66fb1
	item 9 key (3 DEV_EXTENT 1048576) itemoff 15827 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 20971520 length 8388608
		chunk_tree_uuid 611c8295-94bc-49ba-9e17-651742e66fb1
	item 10 key (3 DEV_EXTENT 9437184) itemoff 15779 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 37748736 length 53673984
		chunk_tree_uuid 611c8295-94bc-49ba-9e17-651742e66fb1
	item 11 key (3 DEV_EXTENT 63111168) itemoff 15731 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 145096704 length 67108864
		chunk_tree_uuid 611c8295-94bc-49ba-9e17-651742e66fb1
fs tree key (FS_TREE ROOT_ITEM 0) 
leaf 37994496 items 7 free space 15617 generation 7 owner 5
leaf 37994496 flags 0x1(WRITTEN) backref revision 1
fs uuid 20f4f6a6-3212-4ff4-bf25-d0e3b0cb96fc
chunk uuid 611c8295-94bc-49ba-9e17-651742e66fb1
	item 0 key (256 INODE_ITEM 0) itemoff 16123 itemsize 160
		inode generation 3 transid 7 size 24 nbytes 16384
		block group 0 mode 40755 links 1 uid 0 gid 0 rdev 0
		sequence 0 flags 0x1(none)
		atime 1497765007.546060154 (2017-06-18 11:20:07)
		ctime 1497765007.546060154 (2017-06-18 11:20:07)
		mtime 1497765007.546060154 (2017-06-18 11:20:07)
		otime 1497765001.0 (2017-06-18 11:20:01)
	item 1 key (256 INODE_REF 256) itemoff 16111 itemsize 12
		inode ref index 0 namelen 2 name: ..
	item 2 key (256 DIR_ITEM 1020026518) itemoff 16069 itemsize 42
		location key (257 INODE_ITEM 0) type FILE
		transid 7 data_len 0 name_len 12
		name: file128k.txt
	item 3 key (256 DIR_INDEX 2) itemoff 16027 itemsize 42
		location key (257 INODE_ITEM 0) type FILE
		transid 7 data_len 0 name_len 12
		name: file128k.txt
	item 4 key (257 INODE_ITEM 0) itemoff 15867 itemsize 160
		inode generation 7 transid 7 size 131072 nbytes 131072
		block group 0 mode 100644 links 1 uid 0 gid 0 rdev 0
		sequence 0 flags 0x2(none)
		atime 1497765007.546060154 (2017-06-18 11:20:07)
		ctime 1497765007.546060154 (2017-06-18 11:20:07)
		mtime 1497765007.546060154 (2017-06-18 11:20:07)
		otime 1497765007.546060154 (2017-06-18 11:20:07)
	item 5 key (257 INODE_REF 256) itemoff 15845 itemsize 22
		inode ref index 2 namelen 12 name: file128k.txt
	item 6 key (257 EXTENT_DATA 0) itemoff 15792 itemsize 53
		generation 7 type 1 (regular)
		extent data disk byte 145227776 nr 131072
		extent data offset 0 nr 131072 ram 131072
		extent compression 0 (none)
checksum tree key (CSUM_TREE ROOT_ITEM 0) 
leaf 37978112 items 1 free space 16130 generation 7 owner 7
leaf 37978112 flags 0x1(WRITTEN) backref revision 1
fs uuid 20f4f6a6-3212-4ff4-bf25-d0e3b0cb96fc
chunk uuid 611c8295-94bc-49ba-9e17-651742e66fb1
	item 0 key (EXTENT_CSUM EXTENT_CSUM 145227776) itemoff 16155 itemsize 128
		extent csum item
uuid tree key (UUID_TREE ROOT_ITEM 0) 
leaf 37765120 items 0 free space 16283 generation 6 owner 9
leaf 37765120 flags 0x1(WRITTEN) backref revision 1
fs uuid 20f4f6a6-3212-4ff4-bf25-d0e3b0cb96fc
chunk uuid 611c8295-94bc-49ba-9e17-651742e66fb1
data reloc tree key (DATA_RELOC_TREE ROOT_ITEM 0) 
leaf 37830656 items 2 free space 16061 generation 4 owner 18446744073709551607
leaf 37830656 flags 0x1(WRITTEN) backref revision 1
fs uuid 20f4f6a6-3212-4ff4-bf25-d0e3b0cb96fc
chunk uuid 611c8295-94bc-49ba-9e17-651742e66fb1
	item 0 key (256 INODE_ITEM 0) itemoff 16123 itemsize 160
		inode generation 3 transid 0 size 0 nbytes 16384
		block group 0 mode 40755 links 1 uid 0 gid 0 rdev 0
		sequence 0 flags 0x0(none)
		atime 1497765001.0 (2017-06-18 11:20:01)
		ctime 1497765001.0 (2017-06-18 11:20:01)
		mtime 1497765001.0 (2017-06-18 11:20:01)
		otime 1497765001.0 (2017-06-18 11:20:01)
	item 1 key (256 INODE_REF 256) itemoff 16111 itemsize 12
		inode ref index 0 namelen 2 name: ..
total bytes 1610612736
bytes used 393216
uuid 20f4f6a6-3212-4ff4-bf25-d0e3b0cb96fc
Single extent found.
logical_addr: 145227776 length=131072 		total_stripe=2
############### umount /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/tests/mnt
D1xxxx: Corrupting /dev/loop0 at position 83099648 	which has D1xxxxxxxxxxxxxx
Found on-disk value: D1xxxxxxxxxxxxxx 
Corruption completed at 83099648
############### btrfs scrub start --offline /dev/loop0
ERROR: data at bytenr 145293312 mirror 0 csum mismatch, have 0x790f1fe1 expect 0xa30cb5c5
full stripe 145227776 REPARIED: corrupted data with good P/Q, repaired
Scrub result:
Tree bytes scrubbed: 131072
Tree extents scrubbed: 8
Data bytes scrubbed: 192512
Data extents scrubbed: 3
Data bytes without csum: 131072
Read error: 0
Verify error: 0
Csum error: 1
############### mount /dev/loop0 /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/tests/mnt
Scrub corrected value: D1xxxxxxxxxxxxxx
Parity_stripe_entry:/dev/loop2|63176704|00010000000000000000000000000000
Parity: before=00010000000000000000000000000000 after=00010000000000000000000000000000
Parity stripe check passed.
############### umount /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/tests/mnt
############### losetup -d /dev/loop0
############### losetup -d /dev/loop1
############### losetup -d /dev/loop2
############### losetup --all
------------------RAID5 Corruption------------------
Filename=file256k.txt Total Stripes=4 	      Data Stripe to be corrupted=2,3
############### losetup --find --show img1
/dev/loop0
############### losetup --find --show img2
/dev/loop1
############### losetup --find --show img3
/dev/loop2
############### /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/mkfs.btrfs -f -d raid5 -m raid5 /dev/loop0 /dev/loop1 /dev/loop2
btrfs-progs v3.18-rc1-1924-g07ea395
See http://btrfs.wiki.kernel.org for more information.

Performing full device TRIM /dev/loop0 (512.00MiB) ...
Performing full device TRIM /dev/loop1 (512.00MiB) ...
Performing full device TRIM /dev/loop2 (512.00MiB) ...
Label:              (null)
UUID:               361715c1-526b-472a-ac18-f2ced63f671e
Node size:          16384
Sector size:        4096
Filesystem size:    1.50GiB
Block group profiles:
  Data:             RAID5           128.00MiB
  Metadata:         RAID5           102.38MiB
  System:           RAID5            16.00MiB
SSD detected:       no
Incompat features:  extref, raid56, skinny-metadata
Number of devices:  3
Devices:
   ID        SIZE  PATH
    1   512.00MiB  /dev/loop0
    2   512.00MiB  /dev/loop1
    3   512.00MiB  /dev/loop2

############### mount /dev/loop0 /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/tests/mnt
############### /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/btrfs inspect-internal dump-tree /dev/loop0
btrfs-progs v3.18-rc1-1924-g07ea395
root tree
leaf 37961728 items 16 free space 12515 generation 7 owner 1
leaf 37961728 flags 0x1(WRITTEN) backref revision 1
fs uuid 361715c1-526b-472a-ac18-f2ced63f671e
chunk uuid c5838ac2-4e3c-4ae4-ad8c-412cf6b27525
	item 0 key (EXTENT_TREE ROOT_ITEM 0) itemoff 15844 itemsize 439
		generation 7 root_dirid 0 bytenr 37945344 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		drop key (0 UNKNOWN.0 0) level 0
	item 1 key (DEV_TREE ROOT_ITEM 0) itemoff 15405 itemsize 439
		generation 6 root_dirid 0 bytenr 37896192 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		drop key (0 UNKNOWN.0 0) level 0
	item 2 key (FS_TREE INODE_REF 6) itemoff 15388 itemsize 17
		inode ref index 0 namelen 7 name: default
	item 3 key (FS_TREE ROOT_ITEM 0) itemoff 14949 itemsize 439
		generation 7 root_dirid 256 bytenr 37994496 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		ctransid 7 otransid 0 stransid 0 rtransid 0
		drop key (0 UNKNOWN.0 0) level 0
	item 4 key (ROOT_TREE_DIR INODE_ITEM 0) itemoff 14789 itemsize 160
		inode generation 3 transid 0 size 0 nbytes 16384
		block group 0 mode 40755 links 1 uid 0 gid 0 rdev 0
		sequence 0 flags 0x0(none)
		atime 1497765028.0 (2017-06-18 11:20:28)
		ctime 1497765028.0 (2017-06-18 11:20:28)
		mtime 1497765028.0 (2017-06-18 11:20:28)
		otime 1497765028.0 (2017-06-18 11:20:28)
	item 5 key (ROOT_TREE_DIR INODE_REF 6) itemoff 14777 itemsize 12
		inode ref index 0 namelen 2 name: ..
	item 6 key (ROOT_TREE_DIR DIR_ITEM 2378154706) itemoff 14740 itemsize 37
		location key (FS_TREE ROOT_ITEM -1) type DIR
		transid 0 data_len 0 name_len 7
		name: default
	item 7 key (CSUM_TREE ROOT_ITEM 0) itemoff 14301 itemsize 439
		generation 7 root_dirid 0 bytenr 37978112 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		drop key (0 UNKNOWN.0 0) level 0
	item 8 key (UUID_TREE ROOT_ITEM 0) itemoff 13862 itemsize 439
		generation 6 root_dirid 0 bytenr 37765120 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid d02fc292-91dd-a746-aa6d-1c5b89123c81
		drop key (0 UNKNOWN.0 0) level 0
	item 9 key (256 INODE_ITEM 0) itemoff 13702 itemsize 160
		inode generation 7 transid 7 size 65536 nbytes 131072
		block group 0 mode 100600 links 1 uid 0 gid 0 rdev 0
		sequence 27 flags 0x2(NODATASUM|NODATACOW|NOCOMPRESS|PREALLOC)
		atime 0.0 (1970-01-01 05:30:00)
		ctime 1497765040.71101691 (2017-06-18 11:20:40)
		mtime 0.0 (1970-01-01 05:30:00)
		otime 0.0 (1970-01-01 05:30:00)
	item 10 key (256 EXTENT_DATA 0) itemoff 13649 itemsize 53
		generation 7 type 1 (regular)
		extent data disk byte 145489920 nr 65536
		extent data offset 0 nr 65536 ram 65536
		extent compression 0 (none)
	item 11 key (257 INODE_ITEM 0) itemoff 13489 itemsize 160
		inode generation 7 transid 7 size 65536 nbytes 131072
		block group 0 mode 100600 links 1 uid 0 gid 0 rdev 0
		sequence 27 flags 0x2(NODATASUM|NODATACOW|NOCOMPRESS|PREALLOC)
		atime 0.0 (1970-01-01 05:30:00)
		ctime 1497765040.71101691 (2017-06-18 11:20:40)
		mtime 0.0 (1970-01-01 05:30:00)
		otime 0.0 (1970-01-01 05:30:00)
	item 12 key (257 EXTENT_DATA 0) itemoff 13436 itemsize 53
		generation 7 type 1 (regular)
		extent data disk byte 145555456 nr 65536
		extent data offset 0 nr 65536 ram 65536
		extent compression 0 (none)
	item 13 key (FREE_SPACE UNTYPED 37748736) itemoff 13395 itemsize 41
		location key (256 INODE_ITEM 0)
		cache generation 7 entries 6 bitmaps 0
	item 14 key (FREE_SPACE UNTYPED 145096704) itemoff 13354 itemsize 41
		location key (257 INODE_ITEM 0)
		cache generation 7 entries 3 bitmaps 0
	item 15 key (DATA_RELOC_TREE ROOT_ITEM 0) itemoff 12915 itemsize 439
		generation 4 root_dirid 256 bytenr 37830656 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		drop key (0 UNKNOWN.0 0) level 0
chunk tree
leaf 20987904 items 6 free space 15407 generation 5 owner 3
leaf 20987904 flags 0x1(WRITTEN) backref revision 1
fs uuid 361715c1-526b-472a-ac18-f2ced63f671e
chunk uuid c5838ac2-4e3c-4ae4-ad8c-412cf6b27525
	item 0 key (DEV_ITEMS DEV_ITEM 1) itemoff 16185 itemsize 98
		devid 1 total_bytes 536870912 bytes_used 129171456
		io_align 4096 io_width 4096 sector_size 4096 type 0
		generation 0 start_offset 0 dev_group 0
		seek_speed 0 bandwidth 0
		uuid ca30cffb-1ccd-4fe4-9c73-4bcef6ead72c
		fsid 361715c1-526b-472a-ac18-f2ced63f671e
	item 1 key (DEV_ITEMS DEV_ITEM 2) itemoff 16087 itemsize 98
		devid 2 total_bytes 536870912 bytes_used 129171456
		io_align 4096 io_width 4096 sector_size 4096 type 0
		generation 0 start_offset 0 dev_group 0
		seek_speed 0 bandwidth 0
		uuid 7a50e88c-1822-443f-9e6e-7922d300f1fd
		fsid 361715c1-526b-472a-ac18-f2ced63f671e
	item 2 key (DEV_ITEMS DEV_ITEM 3) itemoff 15989 itemsize 98
		devid 3 total_bytes 536870912 bytes_used 129171456
		io_align 4096 io_width 4096 sector_size 4096 type 0
		generation 0 start_offset 0 dev_group 0
		seek_speed 0 bandwidth 0
		uuid 35bb6bb4-5b61-4591-90b3-572fef1e3937
		fsid 361715c1-526b-472a-ac18-f2ced63f671e
	item 3 key (FIRST_CHUNK_TREE CHUNK_ITEM 20971520) itemoff 15845 itemsize 144
		length 16777216 owner 2 stripe_len 65536 type SYSTEM|RAID5
		io_align 65536 io_width 65536 sector_size 4096
		num_stripes 3 sub_stripes 0
			stripe 0 devid 3 offset 1048576
			dev_uuid 35bb6bb4-5b61-4591-90b3-572fef1e3937
			stripe 1 devid 2 offset 1048576
			dev_uuid 7a50e88c-1822-443f-9e6e-7922d300f1fd
			stripe 2 devid 1 offset 20971520
			dev_uuid ca30cffb-1ccd-4fe4-9c73-4bcef6ead72c
	item 4 key (FIRST_CHUNK_TREE CHUNK_ITEM 37748736) itemoff 15701 itemsize 144
		length 107347968 owner 2 stripe_len 65536 type METADATA|RAID5
		io_align 65536 io_width 65536 sector_size 4096
		num_stripes 3 sub_stripes 0
			stripe 0 devid 3 offset 9437184
			dev_uuid 35bb6bb4-5b61-4591-90b3-572fef1e3937
			stripe 1 devid 2 offset 9437184
			dev_uuid 7a50e88c-1822-443f-9e6e-7922d300f1fd
			stripe 2 devid 1 offset 29360128
			dev_uuid ca30cffb-1ccd-4fe4-9c73-4bcef6ead72c
	item 5 key (FIRST_CHUNK_TREE CHUNK_ITEM 145096704) itemoff 15557 itemsize 144
		length 134217728 owner 2 stripe_len 65536 type DATA|RAID5
		io_align 65536 io_width 65536 sector_size 4096
		num_stripes 3 sub_stripes 0
			stripe 0 devid 3 offset 63111168
			dev_uuid 35bb6bb4-5b61-4591-90b3-572fef1e3937
			stripe 1 devid 2 offset 63111168
			dev_uuid 7a50e88c-1822-443f-9e6e-7922d300f1fd
			stripe 2 devid 1 offset 83034112
			dev_uuid ca30cffb-1ccd-4fe4-9c73-4bcef6ead72c
extent tree key (EXTENT_TREE ROOT_ITEM 0) 
leaf 37945344 items 14 free space 15438 generation 7 owner 2
leaf 37945344 flags 0x1(WRITTEN) backref revision 1
fs uuid 361715c1-526b-472a-ac18-f2ced63f671e
chunk uuid c5838ac2-4e3c-4ae4-ad8c-412cf6b27525
	item 0 key (20971520 BLOCK_GROUP_ITEM 16777216) itemoff 16259 itemsize 24
		block group used 16384 chunk_objectid 256 flags SYSTEM|RAID5
	item 1 key (20987904 METADATA_ITEM 0) itemoff 16226 itemsize 33
		extent refs 1 gen 5 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 3
	item 2 key (37748736 BLOCK_GROUP_ITEM 107347968) itemoff 16202 itemsize 24
		block group used 114688 chunk_objectid 256 flags METADATA|RAID5
	item 3 key (37765120 METADATA_ITEM 0) itemoff 16169 itemsize 33
		extent refs 1 gen 6 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 9
	item 4 key (37830656 METADATA_ITEM 0) itemoff 16136 itemsize 33
		extent refs 1 gen 4 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 18446744073709551607
	item 5 key (37896192 METADATA_ITEM 0) itemoff 16103 itemsize 33
		extent refs 1 gen 6 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 4
	item 6 key (37945344 METADATA_ITEM 0) itemoff 16070 itemsize 33
		extent refs 1 gen 7 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 2
	item 7 key (37961728 METADATA_ITEM 0) itemoff 16037 itemsize 33
		extent refs 1 gen 7 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 1
	item 8 key (37978112 METADATA_ITEM 0) itemoff 16004 itemsize 33
		extent refs 1 gen 7 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 7
	item 9 key (37994496 METADATA_ITEM 0) itemoff 15971 itemsize 33
		extent refs 1 gen 7 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 5
	item 10 key (145096704 BLOCK_GROUP_ITEM 134217728) itemoff 15947 itemsize 24
		block group used 393216 chunk_objectid 256 flags DATA|RAID5
	item 11 key (145227776 EXTENT_ITEM 262144) itemoff 15894 itemsize 53
		extent refs 1 gen 7 flags DATA
		extent data backref root 5 objectid 257 offset 0 count 1
	item 12 key (145489920 EXTENT_ITEM 65536) itemoff 15841 itemsize 53
		extent refs 1 gen 7 flags DATA
		extent data backref root 1 objectid 256 offset 0 count 1
	item 13 key (145555456 EXTENT_ITEM 65536) itemoff 15788 itemsize 53
		extent refs 1 gen 7 flags DATA
		extent data backref root 1 objectid 257 offset 0 count 1
device tree key (DEV_TREE ROOT_ITEM 0) 
leaf 37896192 items 12 free space 15431 generation 6 owner 4
leaf 37896192 flags 0x1(WRITTEN) backref revision 1
fs uuid 361715c1-526b-472a-ac18-f2ced63f671e
chunk uuid c5838ac2-4e3c-4ae4-ad8c-412cf6b27525
	item 0 key (0 PERSISTENT_ITEM 1) itemoff 16243 itemsize 40
		persistent item objectid 0 offset 1
		device stats
		write_errs 0 read_errs 0 flush_errs 0 corruption_errs 0 generation 0
	item 1 key (0 PERSISTENT_ITEM 2) itemoff 16203 itemsize 40
		persistent item objectid 0 offset 2
		device stats
		write_errs 0 read_errs 0 flush_errs 0 corruption_errs 0 generation 0
	item 2 key (0 PERSISTENT_ITEM 3) itemoff 16163 itemsize 40
		persistent item objectid 0 offset 3
		device stats
		write_errs 0 read_errs 0 flush_errs 0 corruption_errs 0 generation 0
	item 3 key (1 DEV_EXTENT 20971520) itemoff 16115 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 20971520 length 8388608
		chunk_tree_uuid c5838ac2-4e3c-4ae4-ad8c-412cf6b27525
	item 4 key (1 DEV_EXTENT 29360128) itemoff 16067 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 37748736 length 53673984
		chunk_tree_uuid c5838ac2-4e3c-4ae4-ad8c-412cf6b27525
	item 5 key (1 DEV_EXTENT 83034112) itemoff 16019 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 145096704 length 67108864
		chunk_tree_uuid c5838ac2-4e3c-4ae4-ad8c-412cf6b27525
	item 6 key (2 DEV_EXTENT 1048576) itemoff 15971 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 20971520 length 8388608
		chunk_tree_uuid c5838ac2-4e3c-4ae4-ad8c-412cf6b27525
	item 7 key (2 DEV_EXTENT 9437184) itemoff 15923 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 37748736 length 53673984
		chunk_tree_uuid c5838ac2-4e3c-4ae4-ad8c-412cf6b27525
	item 8 key (2 DEV_EXTENT 63111168) itemoff 15875 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 145096704 length 67108864
		chunk_tree_uuid c5838ac2-4e3c-4ae4-ad8c-412cf6b27525
	item 9 key (3 DEV_EXTENT 1048576) itemoff 15827 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 20971520 length 8388608
		chunk_tree_uuid c5838ac2-4e3c-4ae4-ad8c-412cf6b27525
	item 10 key (3 DEV_EXTENT 9437184) itemoff 15779 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 37748736 length 53673984
		chunk_tree_uuid c5838ac2-4e3c-4ae4-ad8c-412cf6b27525
	item 11 key (3 DEV_EXTENT 63111168) itemoff 15731 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 145096704 length 67108864
		chunk_tree_uuid c5838ac2-4e3c-4ae4-ad8c-412cf6b27525
fs tree key (FS_TREE ROOT_ITEM 0) 
leaf 37994496 items 7 free space 15617 generation 7 owner 5
leaf 37994496 flags 0x1(WRITTEN) backref revision 1
fs uuid 361715c1-526b-472a-ac18-f2ced63f671e
chunk uuid c5838ac2-4e3c-4ae4-ad8c-412cf6b27525
	item 0 key (256 INODE_ITEM 0) itemoff 16123 itemsize 160
		inode generation 3 transid 7 size 24 nbytes 16384
		block group 0 mode 40755 links 1 uid 0 gid 0 rdev 0
		sequence 0 flags 0x1(none)
		atime 1497765039.823095378 (2017-06-18 11:20:39)
		ctime 1497765039.823095378 (2017-06-18 11:20:39)
		mtime 1497765039.823095378 (2017-06-18 11:20:39)
		otime 1497765028.0 (2017-06-18 11:20:28)
	item 1 key (256 INODE_REF 256) itemoff 16111 itemsize 12
		inode ref index 0 namelen 2 name: ..
	item 2 key (256 DIR_ITEM 4078102237) itemoff 16069 itemsize 42
		location key (257 INODE_ITEM 0) type FILE
		transid 7 data_len 0 name_len 12
		name: file256k.txt
	item 3 key (256 DIR_INDEX 2) itemoff 16027 itemsize 42
		location key (257 INODE_ITEM 0) type FILE
		transid 7 data_len 0 name_len 12
		name: file256k.txt
	item 4 key (257 INODE_ITEM 0) itemoff 15867 itemsize 160
		inode generation 7 transid 7 size 262144 nbytes 262144
		block group 0 mode 100644 links 1 uid 0 gid 0 rdev 0
		sequence 0 flags 0x2(none)
		atime 1497765039.823095378 (2017-06-18 11:20:39)
		ctime 1497765039.823095378 (2017-06-18 11:20:39)
		mtime 1497765039.823095378 (2017-06-18 11:20:39)
		otime 1497765039.823095378 (2017-06-18 11:20:39)
	item 5 key (257 INODE_REF 256) itemoff 15845 itemsize 22
		inode ref index 2 namelen 12 name: file256k.txt
	item 6 key (257 EXTENT_DATA 0) itemoff 15792 itemsize 53
		generation 7 type 1 (regular)
		extent data disk byte 145227776 nr 262144
		extent data offset 0 nr 262144 ram 262144
		extent compression 0 (none)
checksum tree key (CSUM_TREE ROOT_ITEM 0) 
leaf 37978112 items 1 free space 16002 generation 7 owner 7
leaf 37978112 flags 0x1(WRITTEN) backref revision 1
fs uuid 361715c1-526b-472a-ac18-f2ced63f671e
chunk uuid c5838ac2-4e3c-4ae4-ad8c-412cf6b27525
	item 0 key (EXTENT_CSUM EXTENT_CSUM 145227776) itemoff 16027 itemsize 256
		extent csum item
uuid tree key (UUID_TREE ROOT_ITEM 0) 
leaf 37765120 items 0 free space 16283 generation 6 owner 9
leaf 37765120 flags 0x1(WRITTEN) backref revision 1
fs uuid 361715c1-526b-472a-ac18-f2ced63f671e
chunk uuid c5838ac2-4e3c-4ae4-ad8c-412cf6b27525
data reloc tree key (DATA_RELOC_TREE ROOT_ITEM 0) 
leaf 37830656 items 2 free space 16061 generation 4 owner 18446744073709551607
leaf 37830656 flags 0x1(WRITTEN) backref revision 1
fs uuid 361715c1-526b-472a-ac18-f2ced63f671e
chunk uuid c5838ac2-4e3c-4ae4-ad8c-412cf6b27525
	item 0 key (256 INODE_ITEM 0) itemoff 16123 itemsize 160
		inode generation 3 transid 0 size 0 nbytes 16384
		block group 0 mode 40755 links 1 uid 0 gid 0 rdev 0
		sequence 0 flags 0x0(none)
		atime 1497765028.0 (2017-06-18 11:20:28)
		ctime 1497765028.0 (2017-06-18 11:20:28)
		mtime 1497765028.0 (2017-06-18 11:20:28)
		otime 1497765028.0 (2017-06-18 11:20:28)
	item 1 key (256 INODE_REF 256) itemoff 16111 itemsize 12
		inode ref index 0 namelen 2 name: ..
total bytes 1610612736
bytes used 524288
uuid 361715c1-526b-472a-ac18-f2ced63f671e
Single extent found.
logical_addr: 145227776 length=262144 		total_stripe=4
############### umount /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/tests/mnt
D2xxxx: Corrupting /dev/loop0 at position 83165184 	which has D2xxxxxxxxxxxxxx
Found on-disk value: D2xxxxxxxxxxxxxx 
Corruption completed at 83165184
D3xxxx: Corrupting /dev/loop2 at position 63242240 	which has D3xxxxxxxxxxxxxx
Found on-disk value: D3xxxxxxxxxxxxxx 
Corruption completed at 63242240
############### btrfs scrub start --offline /dev/loop0
ERROR: data at bytenr 145358848 mirror 0 csum mismatch, have 0x790f1fe1 expect 0xd4898196
ERROR: data at bytenr 145424384 mirror 0 csum mismatch, have 0x790f1fe1 expect 0xf9f56da7
ERROR: full stripe 145358848 CORRUPTED: too many read error or corrupted devices
ERROR: full stripe 145358848: tolerance: 1, missing: 0, read error: 0, csum error: 2
Scrub result:
Tree bytes scrubbed: 131072
Tree extents scrubbed: 8
Data bytes scrubbed: 253952
Data extents scrubbed: 2
Data bytes without csum: 131072
Read error: 0
Verify error: 0
Csum error: 2
############### mount /dev/loop0 /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/tests/mnt
Found on-disk value: xxxxxxxxxxxx
Scrub failed to fix data stripe corruption
Parity_stripe_entry:/dev/loop1|63242240|00010000000000000000000000000000
Parity: before=00010000000000000000000000000000 after=00010000000000000000000000000000
Parity stripe check passed.
Found on-disk value: xxxxxxxxxxxx
Scrub failed to fix data stripe corruption
Parity_stripe_entry:/dev/loop1|63242240|00010000000000000000000000000000
Parity: before=00010000000000000000000000000000 after=00010000000000000000000000000000
Parity stripe check passed.
############### umount /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/tests/mnt
############### losetup -d /dev/loop0
############### losetup -d /dev/loop1
############### losetup -d /dev/loop2
############### losetup --all
------------------RAID5 Corruption------------------
Filename=file512k.txt Total Stripes=8 	      Data Stripe to be corrupted=1,3,5
############### losetup --find --show img1
/dev/loop0
############### losetup --find --show img2
/dev/loop1
############### losetup --find --show img3
/dev/loop2
############### /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/mkfs.btrfs -f -d raid5 -m raid5 /dev/loop0 /dev/loop1 /dev/loop2
btrfs-progs v3.18-rc1-1924-g07ea395
See http://btrfs.wiki.kernel.org for more information.

Performing full device TRIM /dev/loop0 (512.00MiB) ...
Performing full device TRIM /dev/loop1 (512.00MiB) ...
Performing full device TRIM /dev/loop2 (512.00MiB) ...
Label:              (null)
UUID:               261638bd-1acf-4448-9ea2-898db86d5e5f
Node size:          16384
Sector size:        4096
Filesystem size:    1.50GiB
Block group profiles:
  Data:             RAID5           128.00MiB
  Metadata:         RAID5           102.38MiB
  System:           RAID5            16.00MiB
SSD detected:       no
Incompat features:  extref, raid56, skinny-metadata
Number of devices:  3
Devices:
   ID        SIZE  PATH
    1   512.00MiB  /dev/loop0
    2   512.00MiB  /dev/loop1
    3   512.00MiB  /dev/loop2

############### mount /dev/loop0 /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/tests/mnt
############### /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/btrfs inspect-internal dump-tree /dev/loop0
btrfs-progs v3.18-rc1-1924-g07ea395
root tree
leaf 37961728 items 16 free space 12515 generation 7 owner 1
leaf 37961728 flags 0x1(WRITTEN) backref revision 1
fs uuid 261638bd-1acf-4448-9ea2-898db86d5e5f
chunk uuid c62a4cf5-81c5-4482-b509-29c14d04c6a6
	item 0 key (EXTENT_TREE ROOT_ITEM 0) itemoff 15844 itemsize 439
		generation 7 root_dirid 0 bytenr 37945344 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		drop key (0 UNKNOWN.0 0) level 0
	item 1 key (DEV_TREE ROOT_ITEM 0) itemoff 15405 itemsize 439
		generation 6 root_dirid 0 bytenr 37896192 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		drop key (0 UNKNOWN.0 0) level 0
	item 2 key (FS_TREE INODE_REF 6) itemoff 15388 itemsize 17
		inode ref index 0 namelen 7 name: default
	item 3 key (FS_TREE ROOT_ITEM 0) itemoff 14949 itemsize 439
		generation 7 root_dirid 256 bytenr 37994496 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		ctransid 7 otransid 0 stransid 0 rtransid 0
		drop key (0 UNKNOWN.0 0) level 0
	item 4 key (ROOT_TREE_DIR INODE_ITEM 0) itemoff 14789 itemsize 160
		inode generation 3 transid 0 size 0 nbytes 16384
		block group 0 mode 40755 links 1 uid 0 gid 0 rdev 0
		sequence 0 flags 0x0(none)
		atime 1497765059.0 (2017-06-18 11:20:59)
		ctime 1497765059.0 (2017-06-18 11:20:59)
		mtime 1497765059.0 (2017-06-18 11:20:59)
		otime 1497765059.0 (2017-06-18 11:20:59)
	item 5 key (ROOT_TREE_DIR INODE_REF 6) itemoff 14777 itemsize 12
		inode ref index 0 namelen 2 name: ..
	item 6 key (ROOT_TREE_DIR DIR_ITEM 2378154706) itemoff 14740 itemsize 37
		location key (FS_TREE ROOT_ITEM -1) type DIR
		transid 0 data_len 0 name_len 7
		name: default
	item 7 key (CSUM_TREE ROOT_ITEM 0) itemoff 14301 itemsize 439
		generation 7 root_dirid 0 bytenr 37978112 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		drop key (0 UNKNOWN.0 0) level 0
	item 8 key (UUID_TREE ROOT_ITEM 0) itemoff 13862 itemsize 439
		generation 6 root_dirid 0 bytenr 37765120 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid a0a1846c-5122-6444-9545-d20fcba039ce
		drop key (0 UNKNOWN.0 0) level 0
	item 9 key (256 INODE_ITEM 0) itemoff 13702 itemsize 160
		inode generation 7 transid 7 size 65536 nbytes 131072
		block group 0 mode 100600 links 1 uid 0 gid 0 rdev 0
		sequence 27 flags 0x2(NODATASUM|NODATACOW|NOCOMPRESS|PREALLOC)
		atime 0.0 (1970-01-01 05:30:00)
		ctime 1497765080.883899324 (2017-06-18 11:21:20)
		mtime 0.0 (1970-01-01 05:30:00)
		otime 0.0 (1970-01-01 05:30:00)
	item 10 key (256 EXTENT_DATA 0) itemoff 13649 itemsize 53
		generation 7 type 1 (regular)
		extent data disk byte 145752064 nr 65536
		extent data offset 0 nr 65536 ram 65536
		extent compression 0 (none)
	item 11 key (257 INODE_ITEM 0) itemoff 13489 itemsize 160
		inode generation 7 transid 7 size 65536 nbytes 131072
		block group 0 mode 100600 links 1 uid 0 gid 0 rdev 0
		sequence 27 flags 0x2(NODATASUM|NODATACOW|NOCOMPRESS|PREALLOC)
		atime 0.0 (1970-01-01 05:30:00)
		ctime 1497765080.883899324 (2017-06-18 11:21:20)
		mtime 0.0 (1970-01-01 05:30:00)
		otime 0.0 (1970-01-01 05:30:00)
	item 12 key (257 EXTENT_DATA 0) itemoff 13436 itemsize 53
		generation 7 type 1 (regular)
		extent data disk byte 145817600 nr 65536
		extent data offset 0 nr 65536 ram 65536
		extent compression 0 (none)
	item 13 key (FREE_SPACE UNTYPED 37748736) itemoff 13395 itemsize 41
		location key (256 INODE_ITEM 0)
		cache generation 7 entries 6 bitmaps 0
	item 14 key (FREE_SPACE UNTYPED 145096704) itemoff 13354 itemsize 41
		location key (257 INODE_ITEM 0)
		cache generation 7 entries 3 bitmaps 0
	item 15 key (DATA_RELOC_TREE ROOT_ITEM 0) itemoff 12915 itemsize 439
		generation 4 root_dirid 256 bytenr 37830656 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		drop key (0 UNKNOWN.0 0) level 0
chunk tree
leaf 20987904 items 6 free space 15407 generation 5 owner 3
leaf 20987904 flags 0x1(WRITTEN) backref revision 1
fs uuid 261638bd-1acf-4448-9ea2-898db86d5e5f
chunk uuid c62a4cf5-81c5-4482-b509-29c14d04c6a6
	item 0 key (DEV_ITEMS DEV_ITEM 1) itemoff 16185 itemsize 98
		devid 1 total_bytes 536870912 bytes_used 129171456
		io_align 4096 io_width 4096 sector_size 4096 type 0
		generation 0 start_offset 0 dev_group 0
		seek_speed 0 bandwidth 0
		uuid 3562ebb1-2dec-4798-837c-795e49db9352
		fsid 261638bd-1acf-4448-9ea2-898db86d5e5f
	item 1 key (DEV_ITEMS DEV_ITEM 2) itemoff 16087 itemsize 98
		devid 2 total_bytes 536870912 bytes_used 129171456
		io_align 4096 io_width 4096 sector_size 4096 type 0
		generation 0 start_offset 0 dev_group 0
		seek_speed 0 bandwidth 0
		uuid 9aaca0eb-ca6d-46d5-a57c-a41a9acffa10
		fsid 261638bd-1acf-4448-9ea2-898db86d5e5f
	item 2 key (DEV_ITEMS DEV_ITEM 3) itemoff 15989 itemsize 98
		devid 3 total_bytes 536870912 bytes_used 129171456
		io_align 4096 io_width 4096 sector_size 4096 type 0
		generation 0 start_offset 0 dev_group 0
		seek_speed 0 bandwidth 0
		uuid 4d93a0f3-fbd9-4f8d-aad3-7b916226bb6e
		fsid 261638bd-1acf-4448-9ea2-898db86d5e5f
	item 3 key (FIRST_CHUNK_TREE CHUNK_ITEM 20971520) itemoff 15845 itemsize 144
		length 16777216 owner 2 stripe_len 65536 type SYSTEM|RAID5
		io_align 65536 io_width 65536 sector_size 4096
		num_stripes 3 sub_stripes 0
			stripe 0 devid 3 offset 1048576
			dev_uuid 4d93a0f3-fbd9-4f8d-aad3-7b916226bb6e
			stripe 1 devid 2 offset 1048576
			dev_uuid 9aaca0eb-ca6d-46d5-a57c-a41a9acffa10
			stripe 2 devid 1 offset 20971520
			dev_uuid 3562ebb1-2dec-4798-837c-795e49db9352
	item 4 key (FIRST_CHUNK_TREE CHUNK_ITEM 37748736) itemoff 15701 itemsize 144
		length 107347968 owner 2 stripe_len 65536 type METADATA|RAID5
		io_align 65536 io_width 65536 sector_size 4096
		num_stripes 3 sub_stripes 0
			stripe 0 devid 3 offset 9437184
			dev_uuid 4d93a0f3-fbd9-4f8d-aad3-7b916226bb6e
			stripe 1 devid 2 offset 9437184
			dev_uuid 9aaca0eb-ca6d-46d5-a57c-a41a9acffa10
			stripe 2 devid 1 offset 29360128
			dev_uuid 3562ebb1-2dec-4798-837c-795e49db9352
	item 5 key (FIRST_CHUNK_TREE CHUNK_ITEM 145096704) itemoff 15557 itemsize 144
		length 134217728 owner 2 stripe_len 65536 type DATA|RAID5
		io_align 65536 io_width 65536 sector_size 4096
		num_stripes 3 sub_stripes 0
			stripe 0 devid 3 offset 63111168
			dev_uuid 4d93a0f3-fbd9-4f8d-aad3-7b916226bb6e
			stripe 1 devid 2 offset 63111168
			dev_uuid 9aaca0eb-ca6d-46d5-a57c-a41a9acffa10
			stripe 2 devid 1 offset 83034112
			dev_uuid 3562ebb1-2dec-4798-837c-795e49db9352
extent tree key (EXTENT_TREE ROOT_ITEM 0) 
leaf 37945344 items 14 free space 15438 generation 7 owner 2
leaf 37945344 flags 0x1(WRITTEN) backref revision 1
fs uuid 261638bd-1acf-4448-9ea2-898db86d5e5f
chunk uuid c62a4cf5-81c5-4482-b509-29c14d04c6a6
	item 0 key (20971520 BLOCK_GROUP_ITEM 16777216) itemoff 16259 itemsize 24
		block group used 16384 chunk_objectid 256 flags SYSTEM|RAID5
	item 1 key (20987904 METADATA_ITEM 0) itemoff 16226 itemsize 33
		extent refs 1 gen 5 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 3
	item 2 key (37748736 BLOCK_GROUP_ITEM 107347968) itemoff 16202 itemsize 24
		block group used 114688 chunk_objectid 256 flags METADATA|RAID5
	item 3 key (37765120 METADATA_ITEM 0) itemoff 16169 itemsize 33
		extent refs 1 gen 6 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 9
	item 4 key (37830656 METADATA_ITEM 0) itemoff 16136 itemsize 33
		extent refs 1 gen 4 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 18446744073709551607
	item 5 key (37896192 METADATA_ITEM 0) itemoff 16103 itemsize 33
		extent refs 1 gen 6 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 4
	item 6 key (37945344 METADATA_ITEM 0) itemoff 16070 itemsize 33
		extent refs 1 gen 7 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 2
	item 7 key (37961728 METADATA_ITEM 0) itemoff 16037 itemsize 33
		extent refs 1 gen 7 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 1
	item 8 key (37978112 METADATA_ITEM 0) itemoff 16004 itemsize 33
		extent refs 1 gen 7 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 7
	item 9 key (37994496 METADATA_ITEM 0) itemoff 15971 itemsize 33
		extent refs 1 gen 7 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 5
	item 10 key (145096704 BLOCK_GROUP_ITEM 134217728) itemoff 15947 itemsize 24
		block group used 655360 chunk_objectid 256 flags DATA|RAID5
	item 11 key (145227776 EXTENT_ITEM 524288) itemoff 15894 itemsize 53
		extent refs 1 gen 7 flags DATA
		extent data backref root 5 objectid 257 offset 0 count 1
	item 12 key (145752064 EXTENT_ITEM 65536) itemoff 15841 itemsize 53
		extent refs 1 gen 7 flags DATA
		extent data backref root 1 objectid 256 offset 0 count 1
	item 13 key (145817600 EXTENT_ITEM 65536) itemoff 15788 itemsize 53
		extent refs 1 gen 7 flags DATA
		extent data backref root 1 objectid 257 offset 0 count 1
device tree key (DEV_TREE ROOT_ITEM 0) 
leaf 37896192 items 12 free space 15431 generation 6 owner 4
leaf 37896192 flags 0x1(WRITTEN) backref revision 1
fs uuid 261638bd-1acf-4448-9ea2-898db86d5e5f
chunk uuid c62a4cf5-81c5-4482-b509-29c14d04c6a6
	item 0 key (0 PERSISTENT_ITEM 1) itemoff 16243 itemsize 40
		persistent item objectid 0 offset 1
		device stats
		write_errs 0 read_errs 0 flush_errs 0 corruption_errs 0 generation 0
	item 1 key (0 PERSISTENT_ITEM 2) itemoff 16203 itemsize 40
		persistent item objectid 0 offset 2
		device stats
		write_errs 0 read_errs 0 flush_errs 0 corruption_errs 0 generation 0
	item 2 key (0 PERSISTENT_ITEM 3) itemoff 16163 itemsize 40
		persistent item objectid 0 offset 3
		device stats
		write_errs 0 read_errs 0 flush_errs 0 corruption_errs 0 generation 0
	item 3 key (1 DEV_EXTENT 20971520) itemoff 16115 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 20971520 length 8388608
		chunk_tree_uuid c62a4cf5-81c5-4482-b509-29c14d04c6a6
	item 4 key (1 DEV_EXTENT 29360128) itemoff 16067 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 37748736 length 53673984
		chunk_tree_uuid c62a4cf5-81c5-4482-b509-29c14d04c6a6
	item 5 key (1 DEV_EXTENT 83034112) itemoff 16019 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 145096704 length 67108864
		chunk_tree_uuid c62a4cf5-81c5-4482-b509-29c14d04c6a6
	item 6 key (2 DEV_EXTENT 1048576) itemoff 15971 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 20971520 length 8388608
		chunk_tree_uuid c62a4cf5-81c5-4482-b509-29c14d04c6a6
	item 7 key (2 DEV_EXTENT 9437184) itemoff 15923 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 37748736 length 53673984
		chunk_tree_uuid c62a4cf5-81c5-4482-b509-29c14d04c6a6
	item 8 key (2 DEV_EXTENT 63111168) itemoff 15875 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 145096704 length 67108864
		chunk_tree_uuid c62a4cf5-81c5-4482-b509-29c14d04c6a6
	item 9 key (3 DEV_EXTENT 1048576) itemoff 15827 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 20971520 length 8388608
		chunk_tree_uuid c62a4cf5-81c5-4482-b509-29c14d04c6a6
	item 10 key (3 DEV_EXTENT 9437184) itemoff 15779 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 37748736 length 53673984
		chunk_tree_uuid c62a4cf5-81c5-4482-b509-29c14d04c6a6
	item 11 key (3 DEV_EXTENT 63111168) itemoff 15731 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 145096704 length 67108864
		chunk_tree_uuid c62a4cf5-81c5-4482-b509-29c14d04c6a6
fs tree key (FS_TREE ROOT_ITEM 0) 
leaf 37994496 items 7 free space 15617 generation 7 owner 5
leaf 37994496 flags 0x1(WRITTEN) backref revision 1
fs uuid 261638bd-1acf-4448-9ea2-898db86d5e5f
chunk uuid c62a4cf5-81c5-4482-b509-29c14d04c6a6
	item 0 key (256 INODE_ITEM 0) itemoff 16123 itemsize 160
		inode generation 3 transid 7 size 24 nbytes 16384
		block group 0 mode 40755 links 1 uid 0 gid 0 rdev 0
		sequence 0 flags 0x1(none)
		atime 1497765080.583894840 (2017-06-18 11:21:20)
		ctime 1497765080.583894840 (2017-06-18 11:21:20)
		mtime 1497765080.583894840 (2017-06-18 11:21:20)
		otime 1497765059.0 (2017-06-18 11:20:59)
	item 1 key (256 INODE_REF 256) itemoff 16111 itemsize 12
		inode ref index 0 namelen 2 name: ..
	item 2 key (256 DIR_ITEM 509481343) itemoff 16069 itemsize 42
		location key (257 INODE_ITEM 0) type FILE
		transid 7 data_len 0 name_len 12
		name: file512k.txt
	item 3 key (256 DIR_INDEX 2) itemoff 16027 itemsize 42
		location key (257 INODE_ITEM 0) type FILE
		transid 7 data_len 0 name_len 12
		name: file512k.txt
	item 4 key (257 INODE_ITEM 0) itemoff 15867 itemsize 160
		inode generation 7 transid 7 size 524288 nbytes 524288
		block group 0 mode 100644 links 1 uid 0 gid 0 rdev 0
		sequence 0 flags 0x4(none)
		atime 1497765080.583894840 (2017-06-18 11:21:20)
		ctime 1497765080.583894840 (2017-06-18 11:21:20)
		mtime 1497765080.583894840 (2017-06-18 11:21:20)
		otime 1497765080.583894840 (2017-06-18 11:21:20)
	item 5 key (257 INODE_REF 256) itemoff 15845 itemsize 22
		inode ref index 2 namelen 12 name: file512k.txt
	item 6 key (257 EXTENT_DATA 0) itemoff 15792 itemsize 53
		generation 7 type 1 (regular)
		extent data disk byte 145227776 nr 524288
		extent data offset 0 nr 524288 ram 524288
		extent compression 0 (none)
checksum tree key (CSUM_TREE ROOT_ITEM 0) 
leaf 37978112 items 1 free space 15746 generation 7 owner 7
leaf 37978112 flags 0x1(WRITTEN) backref revision 1
fs uuid 261638bd-1acf-4448-9ea2-898db86d5e5f
chunk uuid c62a4cf5-81c5-4482-b509-29c14d04c6a6
	item 0 key (EXTENT_CSUM EXTENT_CSUM 145227776) itemoff 15771 itemsize 512
		extent csum item
uuid tree key (UUID_TREE ROOT_ITEM 0) 
leaf 37765120 items 0 free space 16283 generation 6 owner 9
leaf 37765120 flags 0x1(WRITTEN) backref revision 1
fs uuid 261638bd-1acf-4448-9ea2-898db86d5e5f
chunk uuid c62a4cf5-81c5-4482-b509-29c14d04c6a6
data reloc tree key (DATA_RELOC_TREE ROOT_ITEM 0) 
leaf 37830656 items 2 free space 16061 generation 4 owner 18446744073709551607
leaf 37830656 flags 0x1(WRITTEN) backref revision 1
fs uuid 261638bd-1acf-4448-9ea2-898db86d5e5f
chunk uuid c62a4cf5-81c5-4482-b509-29c14d04c6a6
	item 0 key (256 INODE_ITEM 0) itemoff 16123 itemsize 160
		inode generation 3 transid 0 size 0 nbytes 16384
		block group 0 mode 40755 links 1 uid 0 gid 0 rdev 0
		sequence 0 flags 0x0(none)
		atime 1497765059.0 (2017-06-18 11:20:59)
		ctime 1497765059.0 (2017-06-18 11:20:59)
		mtime 1497765059.0 (2017-06-18 11:20:59)
		otime 1497765059.0 (2017-06-18 11:20:59)
	item 1 key (256 INODE_REF 256) itemoff 16111 itemsize 12
		inode ref index 0 namelen 2 name: ..
total bytes 1610612736
bytes used 786432
uuid 261638bd-1acf-4448-9ea2-898db86d5e5f
Single extent found.
logical_addr: 145227776 length=524288 		total_stripe=8
############### umount /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/tests/mnt
D1xxxx: Corrupting /dev/loop0 at position 83099648 	which has D1xxxxxxxxxxxxxx
Found on-disk value: D1xxxxxxxxxxxxxx 
Corruption completed at 83099648
D3xxxx: Corrupting /dev/loop2 at position 63242240 	which has D3xxxxxxxxxxxxxx
Found on-disk value: D3xxxxxxxxxxxxxx 
Corruption completed at 63242240
D5xxxx: Corrupting /dev/loop1 at position 63307776 	which has D5xxxxxxxxxxxxxx
Found on-disk value: D5xxxxxxxxxxxxxx 
Corruption completed at 63307776
############### btrfs scrub start --offline /dev/loop0
ERROR: data at bytenr 145293312 mirror 0 csum mismatch, have 0x790f1fe1 expect 0xa30cb5c5
ERROR: data at bytenr 145424384 mirror 0 csum mismatch, have 0x790f1fe1 expect 0xf9f56da7
ERROR: data at bytenr 145555456 mirror 0 csum mismatch, have 0x790f1fe1 expect 0x16ff0501
full stripe 145227776 REPARIED: corrupted data with good P/Q, repaired
full stripe 145358848 REPARIED: corrupted data with good P/Q, repaired
full stripe 145489920 REPARIED: corrupted data with good P/Q, repaired
Scrub result:
Tree bytes scrubbed: 131072
Tree extents scrubbed: 8
Data bytes scrubbed: 708608
Data extents scrubbed: 3
Data bytes without csum: 131072
Read error: 0
Verify error: 0
Csum error: 3
############### mount /dev/loop0 /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/tests/mnt
Scrub corrected value: D1xxxxxxxxxxxxxx
Parity_stripe_entry:/dev/loop2|63176704|00010000000000000000000000000000
Parity: before=00010000000000000000000000000000 after=00010000000000000000000000000000
Parity stripe check passed.
Scrub corrected value: D3xxxxxxxxxxxxxx
Parity_stripe_entry:/dev/loop1|63242240|00010000000000000000000000000000
Parity: before=00010000000000000000000000000000 after=00010000000000000000000000000000
Parity stripe check passed.
Scrub corrected value: D5xxxxxxxxxxxxxx
Parity_stripe_entry:/dev/loop0|83230720|00010000000000000000000000000000
Parity: before=00010000000000000000000000000000 after=00010000000000000000000000000000
Parity stripe check passed.
############### umount /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/tests/mnt
############### losetup -d /dev/loop0
############### losetup -d /dev/loop1
############### losetup -d /dev/loop2
############### losetup --all
------------------RAID5 Corruption------------------
Filename=file768k.txt Total Stripes=12 	      Data Stripe to be corrupted=10,8,6,4
############### losetup --find --show img1
/dev/loop0
############### losetup --find --show img2
/dev/loop1
############### losetup --find --show img3
/dev/loop2
############### /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/mkfs.btrfs -f -d raid5 -m raid5 /dev/loop0 /dev/loop1 /dev/loop2
btrfs-progs v3.18-rc1-1924-g07ea395
See http://btrfs.wiki.kernel.org for more information.

Performing full device TRIM /dev/loop0 (512.00MiB) ...
Performing full device TRIM /dev/loop1 (512.00MiB) ...
Performing full device TRIM /dev/loop2 (512.00MiB) ...
Label:              (null)
UUID:               8694f74d-2777-430c-8bef-ab0c1f77049a
Node size:          16384
Sector size:        4096
Filesystem size:    1.50GiB
Block group profiles:
  Data:             RAID5           128.00MiB
  Metadata:         RAID5           102.38MiB
  System:           RAID5            16.00MiB
SSD detected:       no
Incompat features:  extref, raid56, skinny-metadata
Number of devices:  3
Devices:
   ID        SIZE  PATH
    1   512.00MiB  /dev/loop0
    2   512.00MiB  /dev/loop1
    3   512.00MiB  /dev/loop2

############### mount /dev/loop0 /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/tests/mnt
############### /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/btrfs inspect-internal dump-tree /dev/loop0
btrfs-progs v3.18-rc1-1924-g07ea395
root tree
leaf 37961728 items 16 free space 12515 generation 7 owner 1
leaf 37961728 flags 0x1(WRITTEN) backref revision 1
fs uuid 8694f74d-2777-430c-8bef-ab0c1f77049a
chunk uuid 693e58bb-2627-4d30-af16-1efba1cc0f61
	item 0 key (EXTENT_TREE ROOT_ITEM 0) itemoff 15844 itemsize 439
		generation 7 root_dirid 0 bytenr 37945344 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		drop key (0 UNKNOWN.0 0) level 0
	item 1 key (DEV_TREE ROOT_ITEM 0) itemoff 15405 itemsize 439
		generation 6 root_dirid 0 bytenr 37896192 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		drop key (0 UNKNOWN.0 0) level 0
	item 2 key (FS_TREE INODE_REF 6) itemoff 15388 itemsize 17
		inode ref index 0 namelen 7 name: default
	item 3 key (FS_TREE ROOT_ITEM 0) itemoff 14949 itemsize 439
		generation 7 root_dirid 256 bytenr 37994496 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		ctransid 7 otransid 0 stransid 0 rtransid 0
		drop key (0 UNKNOWN.0 0) level 0
	item 4 key (ROOT_TREE_DIR INODE_ITEM 0) itemoff 14789 itemsize 160
		inode generation 3 transid 0 size 0 nbytes 16384
		block group 0 mode 40755 links 1 uid 0 gid 0 rdev 0
		sequence 0 flags 0x0(none)
		atime 1497765101.0 (2017-06-18 11:21:41)
		ctime 1497765101.0 (2017-06-18 11:21:41)
		mtime 1497765101.0 (2017-06-18 11:21:41)
		otime 1497765101.0 (2017-06-18 11:21:41)
	item 5 key (ROOT_TREE_DIR INODE_REF 6) itemoff 14777 itemsize 12
		inode ref index 0 namelen 2 name: ..
	item 6 key (ROOT_TREE_DIR DIR_ITEM 2378154706) itemoff 14740 itemsize 37
		location key (FS_TREE ROOT_ITEM -1) type DIR
		transid 0 data_len 0 name_len 7
		name: default
	item 7 key (CSUM_TREE ROOT_ITEM 0) itemoff 14301 itemsize 439
		generation 7 root_dirid 0 bytenr 37978112 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		drop key (0 UNKNOWN.0 0) level 0
	item 8 key (UUID_TREE ROOT_ITEM 0) itemoff 13862 itemsize 439
		generation 6 root_dirid 0 bytenr 37765120 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 6297676f-a530-884a-afe9-c19568b40dd5
		drop key (0 UNKNOWN.0 0) level 0
	item 9 key (256 INODE_ITEM 0) itemoff 13702 itemsize 160
		inode generation 7 transid 7 size 65536 nbytes 131072
		block group 0 mode 100600 links 1 uid 0 gid 0 rdev 0
		sequence 27 flags 0x2(NODATASUM|NODATACOW|NOCOMPRESS|PREALLOC)
		atime 0.0 (1970-01-01 05:30:00)
		ctime 1497765132.780481976 (2017-06-18 11:22:12)
		mtime 0.0 (1970-01-01 05:30:00)
		otime 0.0 (1970-01-01 05:30:00)
	item 10 key (256 EXTENT_DATA 0) itemoff 13649 itemsize 53
		generation 7 type 1 (regular)
		extent data disk byte 146014208 nr 65536
		extent data offset 0 nr 65536 ram 65536
		extent compression 0 (none)
	item 11 key (257 INODE_ITEM 0) itemoff 13489 itemsize 160
		inode generation 7 transid 7 size 65536 nbytes 131072
		block group 0 mode 100600 links 1 uid 0 gid 0 rdev 0
		sequence 27 flags 0x2(NODATASUM|NODATACOW|NOCOMPRESS|PREALLOC)
		atime 0.0 (1970-01-01 05:30:00)
		ctime 1497765132.780481976 (2017-06-18 11:22:12)
		mtime 0.0 (1970-01-01 05:30:00)
		otime 0.0 (1970-01-01 05:30:00)
	item 12 key (257 EXTENT_DATA 0) itemoff 13436 itemsize 53
		generation 7 type 1 (regular)
		extent data disk byte 146079744 nr 65536
		extent data offset 0 nr 65536 ram 65536
		extent compression 0 (none)
	item 13 key (FREE_SPACE UNTYPED 37748736) itemoff 13395 itemsize 41
		location key (256 INODE_ITEM 0)
		cache generation 7 entries 6 bitmaps 0
	item 14 key (FREE_SPACE UNTYPED 145096704) itemoff 13354 itemsize 41
		location key (257 INODE_ITEM 0)
		cache generation 7 entries 3 bitmaps 0
	item 15 key (DATA_RELOC_TREE ROOT_ITEM 0) itemoff 12915 itemsize 439
		generation 4 root_dirid 256 bytenr 37830656 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		drop key (0 UNKNOWN.0 0) level 0
chunk tree
leaf 20987904 items 6 free space 15407 generation 5 owner 3
leaf 20987904 flags 0x1(WRITTEN) backref revision 1
fs uuid 8694f74d-2777-430c-8bef-ab0c1f77049a
chunk uuid 693e58bb-2627-4d30-af16-1efba1cc0f61
	item 0 key (DEV_ITEMS DEV_ITEM 1) itemoff 16185 itemsize 98
		devid 1 total_bytes 536870912 bytes_used 129171456
		io_align 4096 io_width 4096 sector_size 4096 type 0
		generation 0 start_offset 0 dev_group 0
		seek_speed 0 bandwidth 0
		uuid 0e6ac69f-fd1a-4e30-81fa-f12865ea0292
		fsid 8694f74d-2777-430c-8bef-ab0c1f77049a
	item 1 key (DEV_ITEMS DEV_ITEM 2) itemoff 16087 itemsize 98
		devid 2 total_bytes 536870912 bytes_used 129171456
		io_align 4096 io_width 4096 sector_size 4096 type 0
		generation 0 start_offset 0 dev_group 0
		seek_speed 0 bandwidth 0
		uuid daf55fca-29cc-473f-b6e5-6e3c44c2097a
		fsid 8694f74d-2777-430c-8bef-ab0c1f77049a
	item 2 key (DEV_ITEMS DEV_ITEM 3) itemoff 15989 itemsize 98
		devid 3 total_bytes 536870912 bytes_used 129171456
		io_align 4096 io_width 4096 sector_size 4096 type 0
		generation 0 start_offset 0 dev_group 0
		seek_speed 0 bandwidth 0
		uuid 66ac8676-0650-4a26-b838-e9bcce1b011d
		fsid 8694f74d-2777-430c-8bef-ab0c1f77049a
	item 3 key (FIRST_CHUNK_TREE CHUNK_ITEM 20971520) itemoff 15845 itemsize 144
		length 16777216 owner 2 stripe_len 65536 type SYSTEM|RAID5
		io_align 65536 io_width 65536 sector_size 4096
		num_stripes 3 sub_stripes 0
			stripe 0 devid 3 offset 1048576
			dev_uuid 66ac8676-0650-4a26-b838-e9bcce1b011d
			stripe 1 devid 2 offset 1048576
			dev_uuid daf55fca-29cc-473f-b6e5-6e3c44c2097a
			stripe 2 devid 1 offset 20971520
			dev_uuid 0e6ac69f-fd1a-4e30-81fa-f12865ea0292
	item 4 key (FIRST_CHUNK_TREE CHUNK_ITEM 37748736) itemoff 15701 itemsize 144
		length 107347968 owner 2 stripe_len 65536 type METADATA|RAID5
		io_align 65536 io_width 65536 sector_size 4096
		num_stripes 3 sub_stripes 0
			stripe 0 devid 3 offset 9437184
			dev_uuid 66ac8676-0650-4a26-b838-e9bcce1b011d
			stripe 1 devid 2 offset 9437184
			dev_uuid daf55fca-29cc-473f-b6e5-6e3c44c2097a
			stripe 2 devid 1 offset 29360128
			dev_uuid 0e6ac69f-fd1a-4e30-81fa-f12865ea0292
	item 5 key (FIRST_CHUNK_TREE CHUNK_ITEM 145096704) itemoff 15557 itemsize 144
		length 134217728 owner 2 stripe_len 65536 type DATA|RAID5
		io_align 65536 io_width 65536 sector_size 4096
		num_stripes 3 sub_stripes 0
			stripe 0 devid 3 offset 63111168
			dev_uuid 66ac8676-0650-4a26-b838-e9bcce1b011d
			stripe 1 devid 2 offset 63111168
			dev_uuid daf55fca-29cc-473f-b6e5-6e3c44c2097a
			stripe 2 devid 1 offset 83034112
			dev_uuid 0e6ac69f-fd1a-4e30-81fa-f12865ea0292
extent tree key (EXTENT_TREE ROOT_ITEM 0) 
leaf 37945344 items 14 free space 15438 generation 7 owner 2
leaf 37945344 flags 0x1(WRITTEN) backref revision 1
fs uuid 8694f74d-2777-430c-8bef-ab0c1f77049a
chunk uuid 693e58bb-2627-4d30-af16-1efba1cc0f61
	item 0 key (20971520 BLOCK_GROUP_ITEM 16777216) itemoff 16259 itemsize 24
		block group used 16384 chunk_objectid 256 flags SYSTEM|RAID5
	item 1 key (20987904 METADATA_ITEM 0) itemoff 16226 itemsize 33
		extent refs 1 gen 5 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 3
	item 2 key (37748736 BLOCK_GROUP_ITEM 107347968) itemoff 16202 itemsize 24
		block group used 114688 chunk_objectid 256 flags METADATA|RAID5
	item 3 key (37765120 METADATA_ITEM 0) itemoff 16169 itemsize 33
		extent refs 1 gen 6 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 9
	item 4 key (37830656 METADATA_ITEM 0) itemoff 16136 itemsize 33
		extent refs 1 gen 4 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 18446744073709551607
	item 5 key (37896192 METADATA_ITEM 0) itemoff 16103 itemsize 33
		extent refs 1 gen 6 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 4
	item 6 key (37945344 METADATA_ITEM 0) itemoff 16070 itemsize 33
		extent refs 1 gen 7 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 2
	item 7 key (37961728 METADATA_ITEM 0) itemoff 16037 itemsize 33
		extent refs 1 gen 7 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 1
	item 8 key (37978112 METADATA_ITEM 0) itemoff 16004 itemsize 33
		extent refs 1 gen 7 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 7
	item 9 key (37994496 METADATA_ITEM 0) itemoff 15971 itemsize 33
		extent refs 1 gen 7 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 5
	item 10 key (145096704 BLOCK_GROUP_ITEM 134217728) itemoff 15947 itemsize 24
		block group used 917504 chunk_objectid 256 flags DATA|RAID5
	item 11 key (145227776 EXTENT_ITEM 786432) itemoff 15894 itemsize 53
		extent refs 1 gen 7 flags DATA
		extent data backref root 5 objectid 257 offset 0 count 1
	item 12 key (146014208 EXTENT_ITEM 65536) itemoff 15841 itemsize 53
		extent refs 1 gen 7 flags DATA
		extent data backref root 1 objectid 256 offset 0 count 1
	item 13 key (146079744 EXTENT_ITEM 65536) itemoff 15788 itemsize 53
		extent refs 1 gen 7 flags DATA
		extent data backref root 1 objectid 257 offset 0 count 1
device tree key (DEV_TREE ROOT_ITEM 0) 
leaf 37896192 items 12 free space 15431 generation 6 owner 4
leaf 37896192 flags 0x1(WRITTEN) backref revision 1
fs uuid 8694f74d-2777-430c-8bef-ab0c1f77049a
chunk uuid 693e58bb-2627-4d30-af16-1efba1cc0f61
	item 0 key (0 PERSISTENT_ITEM 1) itemoff 16243 itemsize 40
		persistent item objectid 0 offset 1
		device stats
		write_errs 0 read_errs 0 flush_errs 0 corruption_errs 0 generation 0
	item 1 key (0 PERSISTENT_ITEM 2) itemoff 16203 itemsize 40
		persistent item objectid 0 offset 2
		device stats
		write_errs 0 read_errs 0 flush_errs 0 corruption_errs 0 generation 0
	item 2 key (0 PERSISTENT_ITEM 3) itemoff 16163 itemsize 40
		persistent item objectid 0 offset 3
		device stats
		write_errs 0 read_errs 0 flush_errs 0 corruption_errs 0 generation 0
	item 3 key (1 DEV_EXTENT 20971520) itemoff 16115 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 20971520 length 8388608
		chunk_tree_uuid 693e58bb-2627-4d30-af16-1efba1cc0f61
	item 4 key (1 DEV_EXTENT 29360128) itemoff 16067 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 37748736 length 53673984
		chunk_tree_uuid 693e58bb-2627-4d30-af16-1efba1cc0f61
	item 5 key (1 DEV_EXTENT 83034112) itemoff 16019 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 145096704 length 67108864
		chunk_tree_uuid 693e58bb-2627-4d30-af16-1efba1cc0f61
	item 6 key (2 DEV_EXTENT 1048576) itemoff 15971 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 20971520 length 8388608
		chunk_tree_uuid 693e58bb-2627-4d30-af16-1efba1cc0f61
	item 7 key (2 DEV_EXTENT 9437184) itemoff 15923 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 37748736 length 53673984
		chunk_tree_uuid 693e58bb-2627-4d30-af16-1efba1cc0f61
	item 8 key (2 DEV_EXTENT 63111168) itemoff 15875 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 145096704 length 67108864
		chunk_tree_uuid 693e58bb-2627-4d30-af16-1efba1cc0f61
	item 9 key (3 DEV_EXTENT 1048576) itemoff 15827 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 20971520 length 8388608
		chunk_tree_uuid 693e58bb-2627-4d30-af16-1efba1cc0f61
	item 10 key (3 DEV_EXTENT 9437184) itemoff 15779 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 37748736 length 53673984
		chunk_tree_uuid 693e58bb-2627-4d30-af16-1efba1cc0f61
	item 11 key (3 DEV_EXTENT 63111168) itemoff 15731 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 145096704 length 67108864
		chunk_tree_uuid 693e58bb-2627-4d30-af16-1efba1cc0f61
fs tree key (FS_TREE ROOT_ITEM 0) 
leaf 37994496 items 7 free space 15617 generation 7 owner 5
leaf 37994496 flags 0x1(WRITTEN) backref revision 1
fs uuid 8694f74d-2777-430c-8bef-ab0c1f77049a
chunk uuid 693e58bb-2627-4d30-af16-1efba1cc0f61
	item 0 key (256 INODE_ITEM 0) itemoff 16123 itemsize 160
		inode generation 3 transid 7 size 24 nbytes 16384
		block group 0 mode 40755 links 1 uid 0 gid 0 rdev 0
		sequence 0 flags 0x1(none)
		atime 1497765132.484479493 (2017-06-18 11:22:12)
		ctime 1497765132.480479459 (2017-06-18 11:22:12)
		mtime 1497765132.480479459 (2017-06-18 11:22:12)
		otime 1497765101.0 (2017-06-18 11:21:41)
	item 1 key (256 INODE_REF 256) itemoff 16111 itemsize 12
		inode ref index 0 namelen 2 name: ..
	item 2 key (256 DIR_ITEM 709485412) itemoff 16069 itemsize 42
		location key (257 INODE_ITEM 0) type FILE
		transid 7 data_len 0 name_len 12
		name: file768k.txt
	item 3 key (256 DIR_INDEX 2) itemoff 16027 itemsize 42
		location key (257 INODE_ITEM 0) type FILE
		transid 7 data_len 0 name_len 12
		name: file768k.txt
	item 4 key (257 INODE_ITEM 0) itemoff 15867 itemsize 160
		inode generation 7 transid 7 size 786432 nbytes 786432
		block group 0 mode 100644 links 1 uid 0 gid 0 rdev 0
		sequence 0 flags 0x6(none)
		atime 1497765132.480479459 (2017-06-18 11:22:12)
		ctime 1497765132.484479493 (2017-06-18 11:22:12)
		mtime 1497765132.484479493 (2017-06-18 11:22:12)
		otime 1497765132.480479459 (2017-06-18 11:22:12)
	item 5 key (257 INODE_REF 256) itemoff 15845 itemsize 22
		inode ref index 2 namelen 12 name: file768k.txt
	item 6 key (257 EXTENT_DATA 0) itemoff 15792 itemsize 53
		generation 7 type 1 (regular)
		extent data disk byte 145227776 nr 786432
		extent data offset 0 nr 786432 ram 786432
		extent compression 0 (none)
checksum tree key (CSUM_TREE ROOT_ITEM 0) 
leaf 37978112 items 1 free space 15490 generation 7 owner 7
leaf 37978112 flags 0x1(WRITTEN) backref revision 1
fs uuid 8694f74d-2777-430c-8bef-ab0c1f77049a
chunk uuid 693e58bb-2627-4d30-af16-1efba1cc0f61
	item 0 key (EXTENT_CSUM EXTENT_CSUM 145227776) itemoff 15515 itemsize 768
		extent csum item
uuid tree key (UUID_TREE ROOT_ITEM 0) 
leaf 37765120 items 0 free space 16283 generation 6 owner 9
leaf 37765120 flags 0x1(WRITTEN) backref revision 1
fs uuid 8694f74d-2777-430c-8bef-ab0c1f77049a
chunk uuid 693e58bb-2627-4d30-af16-1efba1cc0f61
data reloc tree key (DATA_RELOC_TREE ROOT_ITEM 0) 
leaf 37830656 items 2 free space 16061 generation 4 owner 18446744073709551607
leaf 37830656 flags 0x1(WRITTEN) backref revision 1
fs uuid 8694f74d-2777-430c-8bef-ab0c1f77049a
chunk uuid 693e58bb-2627-4d30-af16-1efba1cc0f61
	item 0 key (256 INODE_ITEM 0) itemoff 16123 itemsize 160
		inode generation 3 transid 0 size 0 nbytes 16384
		block group 0 mode 40755 links 1 uid 0 gid 0 rdev 0
		sequence 0 flags 0x0(none)
		atime 1497765101.0 (2017-06-18 11:21:41)
		ctime 1497765101.0 (2017-06-18 11:21:41)
		mtime 1497765101.0 (2017-06-18 11:21:41)
		otime 1497765101.0 (2017-06-18 11:21:41)
	item 1 key (256 INODE_REF 256) itemoff 16111 itemsize 12
		inode ref index 0 namelen 2 name: ..
total bytes 1610612736
bytes used 1048576
uuid 8694f74d-2777-430c-8bef-ab0c1f77049a
Single extent found.
logical_addr: 145227776 length=786432 		total_stripe=12
############### umount /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/tests/mnt
D10xxxx: Corrupting /dev/loop2 at position 63504384 	which has D10xxxxxxxxxxxxx
Found on-disk value: D10xxxxxxxxxxxxx 
Corruption completed at 63504384
D8xxxx: Corrupting /dev/loop0 at position 83361792 	which has D8xxxxxxxxxxxxxx
Found on-disk value: D8xxxxxxxxxxxxxx 
Corruption completed at 83361792
D6xxxx: Corrupting /dev/loop1 at position 63373312 	which has D6xxxxxxxxxxxxxx
Found on-disk value: D6xxxxxxxxxxxxxx 
Corruption completed at 63373312
D4xxxx: Corrupting /dev/loop2 at position 63307776 	which has D4xxxxxxxxxxxxxx
Found on-disk value: D4xxxxxxxxxxxxxx 
Corruption completed at 63307776
############### btrfs scrub start --offline /dev/loop0
ERROR: data at bytenr 145489920 mirror 0 csum mismatch, have 0x790f1fe1 expect 0x3b83e930
ERROR: data at bytenr 145620992 mirror 0 csum mismatch, have 0x790f1fe1 expect 0x617a3152
ERROR: data at bytenr 145752064 mirror 0 csum mismatch, have 0x790f1fe1 expect 0xe07b4e8d
ERROR: data at bytenr 145883136 mirror 0 csum mismatch, have 0x790f1fe1 expect 0x9afc78d5
full stripe 145489920 REPARIED: corrupted data with good P/Q, repaired
full stripe 145620992 REPARIED: corrupted data with good P/Q, repaired
full stripe 145752064 REPARIED: corrupted data with good P/Q, repaired
full stripe 145883136 REPARIED: corrupted data with good P/Q, repaired
Scrub result:
Tree bytes scrubbed: 131072
Tree extents scrubbed: 8
Data bytes scrubbed: 1032192
Data extents scrubbed: 3
Data bytes without csum: 131072
Read error: 0
Verify error: 0
Csum error: 4
############### mount /dev/loop0 /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/tests/mnt
Scrub corrected value: D10xxxxxxxxxxxxx
Parity_stripe_entry:/dev/loop0|83427328|00000100000000000000000000000000
Parity: before=00000100000000000000000000000000 after=00000100000000000000000000000000
Parity stripe check passed.
Scrub corrected value: D8xxxxxxxxxxxxxx
Parity_stripe_entry:/dev/loop1|63438848|00010000000000000000000000000000
Parity: before=00010000000000000000000000000000 after=00010000000000000000000000000000
Parity stripe check passed.
Scrub corrected value: D6xxxxxxxxxxxxxx
Parity_stripe_entry:/dev/loop2|63373312|00010000000000000000000000000000
Parity: before=00010000000000000000000000000000 after=00010000000000000000000000000000
Parity stripe check passed.
Scrub corrected value: D4xxxxxxxxxxxxxx
Parity_stripe_entry:/dev/loop0|83230720|00010000000000000000000000000000
Parity: before=00010000000000000000000000000000 after=00010000000000000000000000000000
Parity stripe check passed.
############### umount /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/tests/mnt
############### losetup -d /dev/loop0
############### losetup -d /dev/loop1
############### losetup -d /dev/loop2
############### losetup --all
------------------RAID5 Corruption------------------
Filename=file1m.txt Total Stripes=16 	      Data Stripe to be corrupted=14,12,10,8,7,6
############### losetup --find --show img1
/dev/loop0
############### losetup --find --show img2
/dev/loop1
############### losetup --find --show img3
/dev/loop2
############### /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/mkfs.btrfs -f -d raid5 -m raid5 /dev/loop0 /dev/loop1 /dev/loop2
btrfs-progs v3.18-rc1-1924-g07ea395
See http://btrfs.wiki.kernel.org for more information.

Performing full device TRIM /dev/loop0 (512.00MiB) ...
Performing full device TRIM /dev/loop1 (512.00MiB) ...
Performing full device TRIM /dev/loop2 (512.00MiB) ...
Label:              (null)
UUID:               17fea116-af66-47c4-a1e1-d5a439c46bf7
Node size:          16384
Sector size:        4096
Filesystem size:    1.50GiB
Block group profiles:
  Data:             RAID5           128.00MiB
  Metadata:         RAID5           102.38MiB
  System:           RAID5            16.00MiB
SSD detected:       no
Incompat features:  extref, raid56, skinny-metadata
Number of devices:  3
Devices:
   ID        SIZE  PATH
    1   512.00MiB  /dev/loop0
    2   512.00MiB  /dev/loop1
    3   512.00MiB  /dev/loop2

############### mount /dev/loop0 /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/tests/mnt
############### /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/btrfs inspect-internal dump-tree /dev/loop0
btrfs-progs v3.18-rc1-1924-g07ea395
root tree
leaf 38027264 items 16 free space 12515 generation 8 owner 1
leaf 38027264 flags 0x1(WRITTEN) backref revision 1
fs uuid 17fea116-af66-47c4-a1e1-d5a439c46bf7
chunk uuid 285d21f1-d78e-4e86-b439-35696af6a1ef
	item 0 key (EXTENT_TREE ROOT_ITEM 0) itemoff 15844 itemsize 439
		generation 8 root_dirid 0 bytenr 38010880 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		drop key (0 UNKNOWN.0 0) level 0
	item 1 key (DEV_TREE ROOT_ITEM 0) itemoff 15405 itemsize 439
		generation 6 root_dirid 0 bytenr 37896192 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		drop key (0 UNKNOWN.0 0) level 0
	item 2 key (FS_TREE INODE_REF 6) itemoff 15388 itemsize 17
		inode ref index 0 namelen 7 name: default
	item 3 key (FS_TREE ROOT_ITEM 0) itemoff 14949 itemsize 439
		generation 8 root_dirid 256 bytenr 38060032 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		ctransid 8 otransid 0 stransid 0 rtransid 0
		drop key (0 UNKNOWN.0 0) level 0
	item 4 key (ROOT_TREE_DIR INODE_ITEM 0) itemoff 14789 itemsize 160
		inode generation 3 transid 0 size 0 nbytes 16384
		block group 0 mode 40755 links 1 uid 0 gid 0 rdev 0
		sequence 0 flags 0x0(none)
		atime 1497765153.0 (2017-06-18 11:22:33)
		ctime 1497765153.0 (2017-06-18 11:22:33)
		mtime 1497765153.0 (2017-06-18 11:22:33)
		otime 1497765153.0 (2017-06-18 11:22:33)
	item 5 key (ROOT_TREE_DIR INODE_REF 6) itemoff 14777 itemsize 12
		inode ref index 0 namelen 2 name: ..
	item 6 key (ROOT_TREE_DIR DIR_ITEM 2378154706) itemoff 14740 itemsize 37
		location key (FS_TREE ROOT_ITEM -1) type DIR
		transid 0 data_len 0 name_len 7
		name: default
	item 7 key (CSUM_TREE ROOT_ITEM 0) itemoff 14301 itemsize 439
		generation 8 root_dirid 0 bytenr 38043648 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		drop key (0 UNKNOWN.0 0) level 0
	item 8 key (UUID_TREE ROOT_ITEM 0) itemoff 13862 itemsize 439
		generation 6 root_dirid 0 bytenr 37765120 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid a6e844a2-2673-a34d-b8b7-4338313040ac
		drop key (0 UNKNOWN.0 0) level 0
	item 9 key (256 INODE_ITEM 0) itemoff 13702 itemsize 160
		inode generation 8 transid 8 size 65536 nbytes 196608
		block group 0 mode 100600 links 1 uid 0 gid 0 rdev 0
		sequence 27 flags 0x3(NODATASUM|NODATACOW|NOCOMPRESS|PREALLOC)
		atime 0.0 (1970-01-01 05:30:00)
		ctime 1497765196.480899342 (2017-06-18 11:23:16)
		mtime 0.0 (1970-01-01 05:30:00)
		otime 0.0 (1970-01-01 05:30:00)
	item 10 key (256 EXTENT_DATA 0) itemoff 13649 itemsize 53
		generation 8 type 1 (regular)
		extent data disk byte 145096704 nr 65536
		extent data offset 0 nr 65536 ram 65536
		extent compression 0 (none)
	item 11 key (257 INODE_ITEM 0) itemoff 13489 itemsize 160
		inode generation 8 transid 8 size 65536 nbytes 196608
		block group 0 mode 100600 links 1 uid 0 gid 0 rdev 0
		sequence 27 flags 0x3(NODATASUM|NODATACOW|NOCOMPRESS|PREALLOC)
		atime 0.0 (1970-01-01 05:30:00)
		ctime 1497765196.480899342 (2017-06-18 11:23:16)
		mtime 0.0 (1970-01-01 05:30:00)
		otime 0.0 (1970-01-01 05:30:00)
	item 12 key (257 EXTENT_DATA 0) itemoff 13436 itemsize 53
		generation 8 type 1 (regular)
		extent data disk byte 145162240 nr 65536
		extent data offset 0 nr 65536 ram 65536
		extent compression 0 (none)
	item 13 key (FREE_SPACE UNTYPED 37748736) itemoff 13395 itemsize 41
		location key (256 INODE_ITEM 0)
		cache generation 8 entries 6 bitmaps 0
	item 14 key (FREE_SPACE UNTYPED 145096704) itemoff 13354 itemsize 41
		location key (257 INODE_ITEM 0)
		cache generation 8 entries 3 bitmaps 0
	item 15 key (DATA_RELOC_TREE ROOT_ITEM 0) itemoff 12915 itemsize 439
		generation 4 root_dirid 256 bytenr 37830656 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		drop key (0 UNKNOWN.0 0) level 0
chunk tree
leaf 20987904 items 6 free space 15407 generation 5 owner 3
leaf 20987904 flags 0x1(WRITTEN) backref revision 1
fs uuid 17fea116-af66-47c4-a1e1-d5a439c46bf7
chunk uuid 285d21f1-d78e-4e86-b439-35696af6a1ef
	item 0 key (DEV_ITEMS DEV_ITEM 1) itemoff 16185 itemsize 98
		devid 1 total_bytes 536870912 bytes_used 129171456
		io_align 4096 io_width 4096 sector_size 4096 type 0
		generation 0 start_offset 0 dev_group 0
		seek_speed 0 bandwidth 0
		uuid c3d13ead-7498-4f29-95e7-c6404f29c69a
		fsid 17fea116-af66-47c4-a1e1-d5a439c46bf7
	item 1 key (DEV_ITEMS DEV_ITEM 2) itemoff 16087 itemsize 98
		devid 2 total_bytes 536870912 bytes_used 129171456
		io_align 4096 io_width 4096 sector_size 4096 type 0
		generation 0 start_offset 0 dev_group 0
		seek_speed 0 bandwidth 0
		uuid 72570c79-9553-41e8-b2df-9c6a826b7ccb
		fsid 17fea116-af66-47c4-a1e1-d5a439c46bf7
	item 2 key (DEV_ITEMS DEV_ITEM 3) itemoff 15989 itemsize 98
		devid 3 total_bytes 536870912 bytes_used 129171456
		io_align 4096 io_width 4096 sector_size 4096 type 0
		generation 0 start_offset 0 dev_group 0
		seek_speed 0 bandwidth 0
		uuid 6f44f435-117b-41c8-8e1d-b3a762059cdc
		fsid 17fea116-af66-47c4-a1e1-d5a439c46bf7
	item 3 key (FIRST_CHUNK_TREE CHUNK_ITEM 20971520) itemoff 15845 itemsize 144
		length 16777216 owner 2 stripe_len 65536 type SYSTEM|RAID5
		io_align 65536 io_width 65536 sector_size 4096
		num_stripes 3 sub_stripes 0
			stripe 0 devid 3 offset 1048576
			dev_uuid 6f44f435-117b-41c8-8e1d-b3a762059cdc
			stripe 1 devid 2 offset 1048576
			dev_uuid 72570c79-9553-41e8-b2df-9c6a826b7ccb
			stripe 2 devid 1 offset 20971520
			dev_uuid c3d13ead-7498-4f29-95e7-c6404f29c69a
	item 4 key (FIRST_CHUNK_TREE CHUNK_ITEM 37748736) itemoff 15701 itemsize 144
		length 107347968 owner 2 stripe_len 65536 type METADATA|RAID5
		io_align 65536 io_width 65536 sector_size 4096
		num_stripes 3 sub_stripes 0
			stripe 0 devid 3 offset 9437184
			dev_uuid 6f44f435-117b-41c8-8e1d-b3a762059cdc
			stripe 1 devid 2 offset 9437184
			dev_uuid 72570c79-9553-41e8-b2df-9c6a826b7ccb
			stripe 2 devid 1 offset 29360128
			dev_uuid c3d13ead-7498-4f29-95e7-c6404f29c69a
	item 5 key (FIRST_CHUNK_TREE CHUNK_ITEM 145096704) itemoff 15557 itemsize 144
		length 134217728 owner 2 stripe_len 65536 type DATA|RAID5
		io_align 65536 io_width 65536 sector_size 4096
		num_stripes 3 sub_stripes 0
			stripe 0 devid 3 offset 63111168
			dev_uuid 6f44f435-117b-41c8-8e1d-b3a762059cdc
			stripe 1 devid 2 offset 63111168
			dev_uuid 72570c79-9553-41e8-b2df-9c6a826b7ccb
			stripe 2 devid 1 offset 83034112
			dev_uuid c3d13ead-7498-4f29-95e7-c6404f29c69a
extent tree key (EXTENT_TREE ROOT_ITEM 0) 
leaf 38010880 items 14 free space 15438 generation 8 owner 2
leaf 38010880 flags 0x1(WRITTEN) backref revision 1
fs uuid 17fea116-af66-47c4-a1e1-d5a439c46bf7
chunk uuid 285d21f1-d78e-4e86-b439-35696af6a1ef
	item 0 key (20971520 BLOCK_GROUP_ITEM 16777216) itemoff 16259 itemsize 24
		block group used 16384 chunk_objectid 256 flags SYSTEM|RAID5
	item 1 key (20987904 METADATA_ITEM 0) itemoff 16226 itemsize 33
		extent refs 1 gen 5 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 3
	item 2 key (37748736 BLOCK_GROUP_ITEM 107347968) itemoff 16202 itemsize 24
		block group used 114688 chunk_objectid 256 flags METADATA|RAID5
	item 3 key (37765120 METADATA_ITEM 0) itemoff 16169 itemsize 33
		extent refs 1 gen 6 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 9
	item 4 key (37830656 METADATA_ITEM 0) itemoff 16136 itemsize 33
		extent refs 1 gen 4 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 18446744073709551607
	item 5 key (37896192 METADATA_ITEM 0) itemoff 16103 itemsize 33
		extent refs 1 gen 6 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 4
	item 6 key (38010880 METADATA_ITEM 0) itemoff 16070 itemsize 33
		extent refs 1 gen 8 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 2
	item 7 key (38027264 METADATA_ITEM 0) itemoff 16037 itemsize 33
		extent refs 1 gen 8 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 1
	item 8 key (38043648 METADATA_ITEM 0) itemoff 16004 itemsize 33
		extent refs 1 gen 8 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 7
	item 9 key (38060032 METADATA_ITEM 0) itemoff 15971 itemsize 33
		extent refs 1 gen 8 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 5
	item 10 key (145096704 EXTENT_ITEM 65536) itemoff 15918 itemsize 53
		extent refs 1 gen 8 flags DATA
		extent data backref root 1 objectid 256 offset 0 count 1
	item 11 key (145096704 BLOCK_GROUP_ITEM 134217728) itemoff 15894 itemsize 24
		block group used 1179648 chunk_objectid 256 flags DATA|RAID5
	item 12 key (145162240 EXTENT_ITEM 65536) itemoff 15841 itemsize 53
		extent refs 1 gen 8 flags DATA
		extent data backref root 1 objectid 257 offset 0 count 1
	item 13 key (145358848 EXTENT_ITEM 1048576) itemoff 15788 itemsize 53
		extent refs 1 gen 8 flags DATA
		extent data backref root 5 objectid 257 offset 0 count 1
device tree key (DEV_TREE ROOT_ITEM 0) 
leaf 37896192 items 12 free space 15431 generation 6 owner 4
leaf 37896192 flags 0x1(WRITTEN) backref revision 1
fs uuid 17fea116-af66-47c4-a1e1-d5a439c46bf7
chunk uuid 285d21f1-d78e-4e86-b439-35696af6a1ef
	item 0 key (0 PERSISTENT_ITEM 1) itemoff 16243 itemsize 40
		persistent item objectid 0 offset 1
		device stats
		write_errs 0 read_errs 0 flush_errs 0 corruption_errs 0 generation 0
	item 1 key (0 PERSISTENT_ITEM 2) itemoff 16203 itemsize 40
		persistent item objectid 0 offset 2
		device stats
		write_errs 0 read_errs 0 flush_errs 0 corruption_errs 0 generation 0
	item 2 key (0 PERSISTENT_ITEM 3) itemoff 16163 itemsize 40
		persistent item objectid 0 offset 3
		device stats
		write_errs 0 read_errs 0 flush_errs 0 corruption_errs 0 generation 0
	item 3 key (1 DEV_EXTENT 20971520) itemoff 16115 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 20971520 length 8388608
		chunk_tree_uuid 285d21f1-d78e-4e86-b439-35696af6a1ef
	item 4 key (1 DEV_EXTENT 29360128) itemoff 16067 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 37748736 length 53673984
		chunk_tree_uuid 285d21f1-d78e-4e86-b439-35696af6a1ef
	item 5 key (1 DEV_EXTENT 83034112) itemoff 16019 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 145096704 length 67108864
		chunk_tree_uuid 285d21f1-d78e-4e86-b439-35696af6a1ef
	item 6 key (2 DEV_EXTENT 1048576) itemoff 15971 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 20971520 length 8388608
		chunk_tree_uuid 285d21f1-d78e-4e86-b439-35696af6a1ef
	item 7 key (2 DEV_EXTENT 9437184) itemoff 15923 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 37748736 length 53673984
		chunk_tree_uuid 285d21f1-d78e-4e86-b439-35696af6a1ef
	item 8 key (2 DEV_EXTENT 63111168) itemoff 15875 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 145096704 length 67108864
		chunk_tree_uuid 285d21f1-d78e-4e86-b439-35696af6a1ef
	item 9 key (3 DEV_EXTENT 1048576) itemoff 15827 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 20971520 length 8388608
		chunk_tree_uuid 285d21f1-d78e-4e86-b439-35696af6a1ef
	item 10 key (3 DEV_EXTENT 9437184) itemoff 15779 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 37748736 length 53673984
		chunk_tree_uuid 285d21f1-d78e-4e86-b439-35696af6a1ef
	item 11 key (3 DEV_EXTENT 63111168) itemoff 15731 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 145096704 length 67108864
		chunk_tree_uuid 285d21f1-d78e-4e86-b439-35696af6a1ef
fs tree key (FS_TREE ROOT_ITEM 0) 
leaf 38060032 items 7 free space 15623 generation 8 owner 5
leaf 38060032 flags 0x1(WRITTEN) backref revision 1
fs uuid 17fea116-af66-47c4-a1e1-d5a439c46bf7
chunk uuid 285d21f1-d78e-4e86-b439-35696af6a1ef
	item 0 key (256 INODE_ITEM 0) itemoff 16123 itemsize 160
		inode generation 3 transid 8 size 20 nbytes 16384
		block group 0 mode 40755 links 1 uid 0 gid 0 rdev 0
		sequence 0 flags 0x1(none)
		atime 1497765196.200897879 (2017-06-18 11:23:16)
		ctime 1497765196.200897879 (2017-06-18 11:23:16)
		mtime 1497765196.200897879 (2017-06-18 11:23:16)
		otime 1497765153.0 (2017-06-18 11:22:33)
	item 1 key (256 INODE_REF 256) itemoff 16111 itemsize 12
		inode ref index 0 namelen 2 name: ..
	item 2 key (256 DIR_ITEM 4015311817) itemoff 16071 itemsize 40
		location key (257 INODE_ITEM 0) type FILE
		transid 8 data_len 0 name_len 10
		name: file1m.txt
	item 3 key (256 DIR_INDEX 2) itemoff 16031 itemsize 40
		location key (257 INODE_ITEM 0) type FILE
		transid 8 data_len 0 name_len 10
		name: file1m.txt
	item 4 key (257 INODE_ITEM 0) itemoff 15871 itemsize 160
		inode generation 8 transid 8 size 1048576 nbytes 1048576
		block group 0 mode 100644 links 1 uid 0 gid 0 rdev 0
		sequence 0 flags 0x8(none)
		atime 1497765196.200897879 (2017-06-18 11:23:16)
		ctime 1497765196.204897900 (2017-06-18 11:23:16)
		mtime 1497765196.204897900 (2017-06-18 11:23:16)
		otime 1497765196.200897879 (2017-06-18 11:23:16)
	item 5 key (257 INODE_REF 256) itemoff 15851 itemsize 20
		inode ref index 2 namelen 10 name: file1m.txt
	item 6 key (257 EXTENT_DATA 0) itemoff 15798 itemsize 53
		generation 8 type 1 (regular)
		extent data disk byte 145358848 nr 1048576
		extent data offset 0 nr 1048576 ram 1048576
		extent compression 0 (none)
checksum tree key (CSUM_TREE ROOT_ITEM 0) 
leaf 38043648 items 1 free space 15234 generation 8 owner 7
leaf 38043648 flags 0x1(WRITTEN) backref revision 1
fs uuid 17fea116-af66-47c4-a1e1-d5a439c46bf7
chunk uuid 285d21f1-d78e-4e86-b439-35696af6a1ef
	item 0 key (EXTENT_CSUM EXTENT_CSUM 145358848) itemoff 15259 itemsize 1024
		extent csum item
uuid tree key (UUID_TREE ROOT_ITEM 0) 
leaf 37765120 items 0 free space 16283 generation 6 owner 9
leaf 37765120 flags 0x1(WRITTEN) backref revision 1
fs uuid 17fea116-af66-47c4-a1e1-d5a439c46bf7
chunk uuid 285d21f1-d78e-4e86-b439-35696af6a1ef
data reloc tree key (DATA_RELOC_TREE ROOT_ITEM 0) 
leaf 37830656 items 2 free space 16061 generation 4 owner 18446744073709551607
leaf 37830656 flags 0x1(WRITTEN) backref revision 1
fs uuid 17fea116-af66-47c4-a1e1-d5a439c46bf7
chunk uuid 285d21f1-d78e-4e86-b439-35696af6a1ef
	item 0 key (256 INODE_ITEM 0) itemoff 16123 itemsize 160
		inode generation 3 transid 0 size 0 nbytes 16384
		block group 0 mode 40755 links 1 uid 0 gid 0 rdev 0
		sequence 0 flags 0x0(none)
		atime 1497765153.0 (2017-06-18 11:22:33)
		ctime 1497765153.0 (2017-06-18 11:22:33)
		mtime 1497765153.0 (2017-06-18 11:22:33)
		otime 1497765153.0 (2017-06-18 11:22:33)
	item 1 key (256 INODE_REF 256) itemoff 16111 itemsize 12
		inode ref index 0 namelen 2 name: ..
total bytes 1610612736
bytes used 1310720
uuid 17fea116-af66-47c4-a1e1-d5a439c46bf7
Single extent found.
logical_addr: 145358848 length=1048576 		total_stripe=16
############### umount /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/tests/mnt
D14xxxx: Corrupting /dev/loop2 at position 63700992 	which has D14xxxxxxxxxxxxx
Found on-disk value: D14xxxxxxxxxxxxx 
Corruption completed at 63700992
D12xxxx: Corrupting /dev/loop0 at position 83558400 	which has D12xxxxxxxxxxxxx
Found on-disk value: D12xxxxxxxxxxxxx 
Corruption completed at 83558400
D10xxxx: Corrupting /dev/loop1 at position 63569920 	which has D10xxxxxxxxxxxxx
Found on-disk value: D10xxxxxxxxxxxxx 
Corruption completed at 63569920
D8xxxx: Corrupting /dev/loop2 at position 63504384 	which has D8xxxxxxxxxxxxxx
Found on-disk value: D8xxxxxxxxxxxxxx 
Corruption completed at 63504384
D7xxxx: Corrupting /dev/loop2 at position 63438848 	which has D7xxxxxxxxxxxxxx
Found on-disk value: D7xxxxxxxxxxxxxx 
Corruption completed at 63438848
D6xxxx: Corrupting /dev/loop0 at position 83361792 	which has D6xxxxxxxxxxxxxx
Found on-disk value: D6xxxxxxxxxxxxxx 
Corruption completed at 83361792
############### btrfs scrub start --offline /dev/loop0
ERROR: data at bytenr 145752064 mirror 0 csum mismatch, have 0x790f1fe1 expect 0x617a3152
ERROR: data at bytenr 145817600 mirror 0 csum mismatch, have 0x790f1fe1 expect 0x4c06dd63
ERROR: full stripe 145752064 CORRUPTED: too many read error or corrupted devices
ERROR: full stripe 145752064: tolerance: 1, missing: 0, read error: 0, csum error: 2
ERROR: data at bytenr 145883136 mirror 0 csum mismatch, have 0x790f1fe1 expect 0xe07b4e8d
ERROR: data at bytenr 146014208 mirror 0 csum mismatch, have 0x790f1fe1 expect 0x9afc78d5
ERROR: data at bytenr 146145280 mirror 0 csum mismatch, have 0x790f1fe1 expect 0x67a9e51e
ERROR: data at bytenr 146276352 mirror 0 csum mismatch, have 0x790f1fe1 expect 0x65bb35b2
full stripe 145883136 REPARIED: corrupted data with good P/Q, repaired
full stripe 146014208 REPARIED: corrupted data with good P/Q, repaired
full stripe 146145280 REPARIED: corrupted data with good P/Q, repaired
full stripe 146276352 REPARIED: corrupted data with good P/Q, repaired
Scrub result:
Tree bytes scrubbed: 131072
Tree extents scrubbed: 8
Data bytes scrubbed: 1286144
Data extents scrubbed: 3
Data bytes without csum: 131072
Read error: 0
Verify error: 0
Csum error: 6
############### mount /dev/loop0 /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/tests/mnt
Scrub corrected value: D14xxxxxxxxxxxxx
Parity_stripe_entry:/dev/loop0|83623936|00000100000000000000000000000000
Parity: before=00000100000000000000000000000000 after=00000100000000000000000000000000
Parity stripe check passed.
Scrub corrected value: D12xxxxxxxxxxxxx
Parity_stripe_entry:/dev/loop1|63635456|00000100000000000000000000000000
Parity: before=00000100000000000000000000000000 after=00000100000000000000000000000000
Parity stripe check passed.
Scrub corrected value: D10xxxxxxxxxxxxx
Parity_stripe_entry:/dev/loop2|63569920|00000100000000000000000000000000
Parity: before=00000100000000000000000000000000 after=00000100000000000000000000000000
Parity stripe check passed.
Scrub corrected value: D8xxxxxxxxxxxxxx
Parity_stripe_entry:/dev/loop0|83427328|00010000000000000000000000000000
Parity: before=00010000000000000000000000000000 after=00010000000000000000000000000000
Parity stripe check passed.
Found on-disk value: xxxxxxxxxxxx
Scrub failed to fix data stripe corruption
Parity_stripe_entry:/dev/loop1|63438848|00010000000000000000000000000000
Parity: before=00010000000000000000000000000000 after=00010000000000000000000000000000
Parity stripe check passed.
Found on-disk value: xxxxxxxxxxxx
Scrub failed to fix data stripe corruption
Parity_stripe_entry:/dev/loop1|63438848|00010000000000000000000000000000
Parity: before=00010000000000000000000000000000 after=00010000000000000000000000000000
Parity stripe check passed.
############### umount /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/tests/mnt
############### losetup -d /dev/loop0
############### losetup -d /dev/loop1
############### losetup -d /dev/loop2
############### losetup --all
------------------RAID5 Corruption------------------
Filename=file2m.txt Total Stripes=32 	      Data Stripe to be corrupted=23,22,21,20,19,18,16
############### losetup --find --show img1
/dev/loop0
############### losetup --find --show img2
/dev/loop1
############### losetup --find --show img3
/dev/loop2
############### /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/mkfs.btrfs -f -d raid5 -m raid5 /dev/loop0 /dev/loop1 /dev/loop2
btrfs-progs v3.18-rc1-1924-g07ea395
See http://btrfs.wiki.kernel.org for more information.

Performing full device TRIM /dev/loop0 (512.00MiB) ...
Performing full device TRIM /dev/loop1 (512.00MiB) ...
Performing full device TRIM /dev/loop2 (512.00MiB) ...
Label:              (null)
UUID:               39dd443f-e628-4085-ae70-819691221cf4
Node size:          16384
Sector size:        4096
Filesystem size:    1.50GiB
Block group profiles:
  Data:             RAID5           128.00MiB
  Metadata:         RAID5           102.38MiB
  System:           RAID5            16.00MiB
SSD detected:       no
Incompat features:  extref, raid56, skinny-metadata
Number of devices:  3
Devices:
   ID        SIZE  PATH
    1   512.00MiB  /dev/loop0
    2   512.00MiB  /dev/loop1
    3   512.00MiB  /dev/loop2

############### mount /dev/loop0 /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/tests/mnt
############### /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/btrfs inspect-internal dump-tree /dev/loop0
btrfs-progs v3.18-rc1-1924-g07ea395
root tree
leaf 38027264 items 16 free space 12515 generation 8 owner 1
leaf 38027264 flags 0x1(WRITTEN) backref revision 1
fs uuid 39dd443f-e628-4085-ae70-819691221cf4
chunk uuid 67520b12-29d4-4c0e-b4f3-297c7499d5eb
	item 0 key (EXTENT_TREE ROOT_ITEM 0) itemoff 15844 itemsize 439
		generation 8 root_dirid 0 bytenr 38010880 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		drop key (0 UNKNOWN.0 0) level 0
	item 1 key (DEV_TREE ROOT_ITEM 0) itemoff 15405 itemsize 439
		generation 6 root_dirid 0 bytenr 37896192 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		drop key (0 UNKNOWN.0 0) level 0
	item 2 key (FS_TREE INODE_REF 6) itemoff 15388 itemsize 17
		inode ref index 0 namelen 7 name: default
	item 3 key (FS_TREE ROOT_ITEM 0) itemoff 14949 itemsize 439
		generation 8 root_dirid 256 bytenr 38060032 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		ctransid 8 otransid 0 stransid 0 rtransid 0
		drop key (0 UNKNOWN.0 0) level 0
	item 4 key (ROOT_TREE_DIR INODE_ITEM 0) itemoff 14789 itemsize 160
		inode generation 3 transid 0 size 0 nbytes 16384
		block group 0 mode 40755 links 1 uid 0 gid 0 rdev 0
		sequence 0 flags 0x0(none)
		atime 1497765218.0 (2017-06-18 11:23:38)
		ctime 1497765218.0 (2017-06-18 11:23:38)
		mtime 1497765218.0 (2017-06-18 11:23:38)
		otime 1497765218.0 (2017-06-18 11:23:38)
	item 5 key (ROOT_TREE_DIR INODE_REF 6) itemoff 14777 itemsize 12
		inode ref index 0 namelen 2 name: ..
	item 6 key (ROOT_TREE_DIR DIR_ITEM 2378154706) itemoff 14740 itemsize 37
		location key (FS_TREE ROOT_ITEM -1) type DIR
		transid 0 data_len 0 name_len 7
		name: default
	item 7 key (CSUM_TREE ROOT_ITEM 0) itemoff 14301 itemsize 439
		generation 8 root_dirid 0 bytenr 38043648 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		drop key (0 UNKNOWN.0 0) level 0
	item 8 key (UUID_TREE ROOT_ITEM 0) itemoff 13862 itemsize 439
		generation 6 root_dirid 0 bytenr 37765120 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 53500652-0e85-4c47-91ac-b9b96202f40f
		drop key (0 UNKNOWN.0 0) level 0
	item 9 key (256 INODE_ITEM 0) itemoff 13702 itemsize 160
		inode generation 8 transid 8 size 65536 nbytes 196608
		block group 0 mode 100600 links 1 uid 0 gid 0 rdev 0
		sequence 27 flags 0x3(NODATASUM|NODATACOW|NOCOMPRESS|PREALLOC)
		atime 0.0 (1970-01-01 05:30:00)
		ctime 1497765304.753357089 (2017-06-18 11:25:04)
		mtime 0.0 (1970-01-01 05:30:00)
		otime 0.0 (1970-01-01 05:30:00)
	item 10 key (256 EXTENT_DATA 0) itemoff 13649 itemsize 53
		generation 8 type 1 (regular)
		extent data disk byte 145096704 nr 65536
		extent data offset 0 nr 65536 ram 65536
		extent compression 0 (none)
	item 11 key (257 INODE_ITEM 0) itemoff 13489 itemsize 160
		inode generation 8 transid 8 size 65536 nbytes 196608
		block group 0 mode 100600 links 1 uid 0 gid 0 rdev 0
		sequence 27 flags 0x3(NODATASUM|NODATACOW|NOCOMPRESS|PREALLOC)
		atime 0.0 (1970-01-01 05:30:00)
		ctime 1497765304.753357089 (2017-06-18 11:25:04)
		mtime 0.0 (1970-01-01 05:30:00)
		otime 0.0 (1970-01-01 05:30:00)
	item 12 key (257 EXTENT_DATA 0) itemoff 13436 itemsize 53
		generation 8 type 1 (regular)
		extent data disk byte 145162240 nr 65536
		extent data offset 0 nr 65536 ram 65536
		extent compression 0 (none)
	item 13 key (FREE_SPACE UNTYPED 37748736) itemoff 13395 itemsize 41
		location key (256 INODE_ITEM 0)
		cache generation 8 entries 6 bitmaps 0
	item 14 key (FREE_SPACE UNTYPED 145096704) itemoff 13354 itemsize 41
		location key (257 INODE_ITEM 0)
		cache generation 8 entries 3 bitmaps 0
	item 15 key (DATA_RELOC_TREE ROOT_ITEM 0) itemoff 12915 itemsize 439
		generation 4 root_dirid 256 bytenr 37830656 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		drop key (0 UNKNOWN.0 0) level 0
chunk tree
leaf 20987904 items 6 free space 15407 generation 5 owner 3
leaf 20987904 flags 0x1(WRITTEN) backref revision 1
fs uuid 39dd443f-e628-4085-ae70-819691221cf4
chunk uuid 67520b12-29d4-4c0e-b4f3-297c7499d5eb
	item 0 key (DEV_ITEMS DEV_ITEM 1) itemoff 16185 itemsize 98
		devid 1 total_bytes 536870912 bytes_used 129171456
		io_align 4096 io_width 4096 sector_size 4096 type 0
		generation 0 start_offset 0 dev_group 0
		seek_speed 0 bandwidth 0
		uuid 16945703-27cb-4a43-a3b9-77d5c69a3279
		fsid 39dd443f-e628-4085-ae70-819691221cf4
	item 1 key (DEV_ITEMS DEV_ITEM 2) itemoff 16087 itemsize 98
		devid 2 total_bytes 536870912 bytes_used 129171456
		io_align 4096 io_width 4096 sector_size 4096 type 0
		generation 0 start_offset 0 dev_group 0
		seek_speed 0 bandwidth 0
		uuid bc829b14-360c-4e32-991a-c95b2e0b2def
		fsid 39dd443f-e628-4085-ae70-819691221cf4
	item 2 key (DEV_ITEMS DEV_ITEM 3) itemoff 15989 itemsize 98
		devid 3 total_bytes 536870912 bytes_used 129171456
		io_align 4096 io_width 4096 sector_size 4096 type 0
		generation 0 start_offset 0 dev_group 0
		seek_speed 0 bandwidth 0
		uuid 5974c9f5-8840-46c6-85b4-9641d7304fc3
		fsid 39dd443f-e628-4085-ae70-819691221cf4
	item 3 key (FIRST_CHUNK_TREE CHUNK_ITEM 20971520) itemoff 15845 itemsize 144
		length 16777216 owner 2 stripe_len 65536 type SYSTEM|RAID5
		io_align 65536 io_width 65536 sector_size 4096
		num_stripes 3 sub_stripes 0
			stripe 0 devid 3 offset 1048576
			dev_uuid 5974c9f5-8840-46c6-85b4-9641d7304fc3
			stripe 1 devid 2 offset 1048576
			dev_uuid bc829b14-360c-4e32-991a-c95b2e0b2def
			stripe 2 devid 1 offset 20971520
			dev_uuid 16945703-27cb-4a43-a3b9-77d5c69a3279
	item 4 key (FIRST_CHUNK_TREE CHUNK_ITEM 37748736) itemoff 15701 itemsize 144
		length 107347968 owner 2 stripe_len 65536 type METADATA|RAID5
		io_align 65536 io_width 65536 sector_size 4096
		num_stripes 3 sub_stripes 0
			stripe 0 devid 3 offset 9437184
			dev_uuid 5974c9f5-8840-46c6-85b4-9641d7304fc3
			stripe 1 devid 2 offset 9437184
			dev_uuid bc829b14-360c-4e32-991a-c95b2e0b2def
			stripe 2 devid 1 offset 29360128
			dev_uuid 16945703-27cb-4a43-a3b9-77d5c69a3279
	item 5 key (FIRST_CHUNK_TREE CHUNK_ITEM 145096704) itemoff 15557 itemsize 144
		length 134217728 owner 2 stripe_len 65536 type DATA|RAID5
		io_align 65536 io_width 65536 sector_size 4096
		num_stripes 3 sub_stripes 0
			stripe 0 devid 3 offset 63111168
			dev_uuid 5974c9f5-8840-46c6-85b4-9641d7304fc3
			stripe 1 devid 2 offset 63111168
			dev_uuid bc829b14-360c-4e32-991a-c95b2e0b2def
			stripe 2 devid 1 offset 83034112
			dev_uuid 16945703-27cb-4a43-a3b9-77d5c69a3279
extent tree key (EXTENT_TREE ROOT_ITEM 0) 
leaf 38010880 items 14 free space 15438 generation 8 owner 2
leaf 38010880 flags 0x1(WRITTEN) backref revision 1
fs uuid 39dd443f-e628-4085-ae70-819691221cf4
chunk uuid 67520b12-29d4-4c0e-b4f3-297c7499d5eb
	item 0 key (20971520 BLOCK_GROUP_ITEM 16777216) itemoff 16259 itemsize 24
		block group used 16384 chunk_objectid 256 flags SYSTEM|RAID5
	item 1 key (20987904 METADATA_ITEM 0) itemoff 16226 itemsize 33
		extent refs 1 gen 5 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 3
	item 2 key (37748736 BLOCK_GROUP_ITEM 107347968) itemoff 16202 itemsize 24
		block group used 114688 chunk_objectid 256 flags METADATA|RAID5
	item 3 key (37765120 METADATA_ITEM 0) itemoff 16169 itemsize 33
		extent refs 1 gen 6 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 9
	item 4 key (37830656 METADATA_ITEM 0) itemoff 16136 itemsize 33
		extent refs 1 gen 4 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 18446744073709551607
	item 5 key (37896192 METADATA_ITEM 0) itemoff 16103 itemsize 33
		extent refs 1 gen 6 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 4
	item 6 key (38010880 METADATA_ITEM 0) itemoff 16070 itemsize 33
		extent refs 1 gen 8 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 2
	item 7 key (38027264 METADATA_ITEM 0) itemoff 16037 itemsize 33
		extent refs 1 gen 8 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 1
	item 8 key (38043648 METADATA_ITEM 0) itemoff 16004 itemsize 33
		extent refs 1 gen 8 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 7
	item 9 key (38060032 METADATA_ITEM 0) itemoff 15971 itemsize 33
		extent refs 1 gen 8 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 5
	item 10 key (145096704 EXTENT_ITEM 65536) itemoff 15918 itemsize 53
		extent refs 1 gen 8 flags DATA
		extent data backref root 1 objectid 256 offset 0 count 1
	item 11 key (145096704 BLOCK_GROUP_ITEM 134217728) itemoff 15894 itemsize 24
		block group used 2228224 chunk_objectid 256 flags DATA|RAID5
	item 12 key (145162240 EXTENT_ITEM 65536) itemoff 15841 itemsize 53
		extent refs 1 gen 8 flags DATA
		extent data backref root 1 objectid 257 offset 0 count 1
	item 13 key (145358848 EXTENT_ITEM 2097152) itemoff 15788 itemsize 53
		extent refs 1 gen 8 flags DATA
		extent data backref root 5 objectid 257 offset 0 count 1
device tree key (DEV_TREE ROOT_ITEM 0) 
leaf 37896192 items 12 free space 15431 generation 6 owner 4
leaf 37896192 flags 0x1(WRITTEN) backref revision 1
fs uuid 39dd443f-e628-4085-ae70-819691221cf4
chunk uuid 67520b12-29d4-4c0e-b4f3-297c7499d5eb
	item 0 key (0 PERSISTENT_ITEM 1) itemoff 16243 itemsize 40
		persistent item objectid 0 offset 1
		device stats
		write_errs 0 read_errs 0 flush_errs 0 corruption_errs 0 generation 0
	item 1 key (0 PERSISTENT_ITEM 2) itemoff 16203 itemsize 40
		persistent item objectid 0 offset 2
		device stats
		write_errs 0 read_errs 0 flush_errs 0 corruption_errs 0 generation 0
	item 2 key (0 PERSISTENT_ITEM 3) itemoff 16163 itemsize 40
		persistent item objectid 0 offset 3
		device stats
		write_errs 0 read_errs 0 flush_errs 0 corruption_errs 0 generation 0
	item 3 key (1 DEV_EXTENT 20971520) itemoff 16115 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 20971520 length 8388608
		chunk_tree_uuid 67520b12-29d4-4c0e-b4f3-297c7499d5eb
	item 4 key (1 DEV_EXTENT 29360128) itemoff 16067 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 37748736 length 53673984
		chunk_tree_uuid 67520b12-29d4-4c0e-b4f3-297c7499d5eb
	item 5 key (1 DEV_EXTENT 83034112) itemoff 16019 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 145096704 length 67108864
		chunk_tree_uuid 67520b12-29d4-4c0e-b4f3-297c7499d5eb
	item 6 key (2 DEV_EXTENT 1048576) itemoff 15971 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 20971520 length 8388608
		chunk_tree_uuid 67520b12-29d4-4c0e-b4f3-297c7499d5eb
	item 7 key (2 DEV_EXTENT 9437184) itemoff 15923 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 37748736 length 53673984
		chunk_tree_uuid 67520b12-29d4-4c0e-b4f3-297c7499d5eb
	item 8 key (2 DEV_EXTENT 63111168) itemoff 15875 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 145096704 length 67108864
		chunk_tree_uuid 67520b12-29d4-4c0e-b4f3-297c7499d5eb
	item 9 key (3 DEV_EXTENT 1048576) itemoff 15827 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 20971520 length 8388608
		chunk_tree_uuid 67520b12-29d4-4c0e-b4f3-297c7499d5eb
	item 10 key (3 DEV_EXTENT 9437184) itemoff 15779 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 37748736 length 53673984
		chunk_tree_uuid 67520b12-29d4-4c0e-b4f3-297c7499d5eb
	item 11 key (3 DEV_EXTENT 63111168) itemoff 15731 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 145096704 length 67108864
		chunk_tree_uuid 67520b12-29d4-4c0e-b4f3-297c7499d5eb
fs tree key (FS_TREE ROOT_ITEM 0) 
leaf 38060032 items 7 free space 15623 generation 8 owner 5
leaf 38060032 flags 0x1(WRITTEN) backref revision 1
fs uuid 39dd443f-e628-4085-ae70-819691221cf4
chunk uuid 67520b12-29d4-4c0e-b4f3-297c7499d5eb
	item 0 key (256 INODE_ITEM 0) itemoff 16123 itemsize 160
		inode generation 3 transid 8 size 20 nbytes 16384
		block group 0 mode 40755 links 1 uid 0 gid 0 rdev 0
		sequence 0 flags 0x1(none)
		atime 1497765304.513356215 (2017-06-18 11:25:04)
		ctime 1497765304.513356215 (2017-06-18 11:25:04)
		mtime 1497765304.513356215 (2017-06-18 11:25:04)
		otime 1497765218.0 (2017-06-18 11:23:38)
	item 1 key (256 INODE_REF 256) itemoff 16111 itemsize 12
		inode ref index 0 namelen 2 name: ..
	item 2 key (256 DIR_ITEM 3689414675) itemoff 16071 itemsize 40
		location key (257 INODE_ITEM 0) type FILE
		transid 8 data_len 0 name_len 10
		name: file2m.txt
	item 3 key (256 DIR_INDEX 2) itemoff 16031 itemsize 40
		location key (257 INODE_ITEM 0) type FILE
		transid 8 data_len 0 name_len 10
		name: file2m.txt
	item 4 key (257 INODE_ITEM 0) itemoff 15871 itemsize 160
		inode generation 8 transid 8 size 2097152 nbytes 2097152
		block group 0 mode 100644 links 1 uid 0 gid 0 rdev 0
		sequence 0 flags 0x10(none)
		atime 1497765304.513356215 (2017-06-18 11:25:04)
		ctime 1497765304.517356230 (2017-06-18 11:25:04)
		mtime 1497765304.517356230 (2017-06-18 11:25:04)
		otime 1497765304.513356215 (2017-06-18 11:25:04)
	item 5 key (257 INODE_REF 256) itemoff 15851 itemsize 20
		inode ref index 2 namelen 10 name: file2m.txt
	item 6 key (257 EXTENT_DATA 0) itemoff 15798 itemsize 53
		generation 8 type 1 (regular)
		extent data disk byte 145358848 nr 2097152
		extent data offset 0 nr 2097152 ram 2097152
		extent compression 0 (none)
checksum tree key (CSUM_TREE ROOT_ITEM 0) 
leaf 38043648 items 3 free space 14160 generation 8 owner 7
leaf 38043648 flags 0x1(WRITTEN) backref revision 1
fs uuid 39dd443f-e628-4085-ae70-819691221cf4
chunk uuid 67520b12-29d4-4c0e-b4f3-297c7499d5eb
	item 0 key (EXTENT_CSUM EXTENT_CSUM 145358848) itemoff 16027 itemsize 256
		extent csum item
	item 1 key (EXTENT_CSUM EXTENT_CSUM 145620992) itemoff 14491 itemsize 1536
		extent csum item
	item 2 key (EXTENT_CSUM EXTENT_CSUM 147193856) itemoff 14235 itemsize 256
		extent csum item
uuid tree key (UUID_TREE ROOT_ITEM 0) 
leaf 37765120 items 0 free space 16283 generation 6 owner 9
leaf 37765120 flags 0x1(WRITTEN) backref revision 1
fs uuid 39dd443f-e628-4085-ae70-819691221cf4
chunk uuid 67520b12-29d4-4c0e-b4f3-297c7499d5eb
data reloc tree key (DATA_RELOC_TREE ROOT_ITEM 0) 
leaf 37830656 items 2 free space 16061 generation 4 owner 18446744073709551607
leaf 37830656 flags 0x1(WRITTEN) backref revision 1
fs uuid 39dd443f-e628-4085-ae70-819691221cf4
chunk uuid 67520b12-29d4-4c0e-b4f3-297c7499d5eb
	item 0 key (256 INODE_ITEM 0) itemoff 16123 itemsize 160
		inode generation 3 transid 0 size 0 nbytes 16384
		block group 0 mode 40755 links 1 uid 0 gid 0 rdev 0
		sequence 0 flags 0x0(none)
		atime 1497765218.0 (2017-06-18 11:23:38)
		ctime 1497765218.0 (2017-06-18 11:23:38)
		mtime 1497765218.0 (2017-06-18 11:23:38)
		otime 1497765218.0 (2017-06-18 11:23:38)
	item 1 key (256 INODE_REF 256) itemoff 16111 itemsize 12
		inode ref index 0 namelen 2 name: ..
total bytes 1610612736
bytes used 2359296
uuid 39dd443f-e628-4085-ae70-819691221cf4
Single extent found.
logical_addr: 145358848 length=2097152 		total_stripe=32
############### umount /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/tests/mnt
D23xxxx: Corrupting /dev/loop0 at position 83886080 	which has D23xxxxxxxxxxxxx
Found on-disk value: D23xxxxxxxxxxxxx 
Corruption completed at 83886080
D22xxxx: Corrupting /dev/loop1 at position 63963136 	which has D22xxxxxxxxxxxxx
Found on-disk value: D22xxxxxxxxxxxxx 
Corruption completed at 63963136
D21xxxx: Corrupting /dev/loop1 at position 63897600 	which has D21xxxxxxxxxxxxx
Found on-disk value: D21xxxxxxxxxxxxx 
Corruption completed at 63897600
D20xxxx: Corrupting /dev/loop2 at position 63897600 	which has D20xxxxxxxxxxxxx
Found on-disk value: D20xxxxxxxxxxxxx 
Corruption completed at 63897600
D19xxxx: Corrupting /dev/loop2 at position 63832064 	which has D19xxxxxxxxxxxxx
Found on-disk value: D19xxxxxxxxxxxxx 
Corruption completed at 63832064
D18xxxx: Corrupting /dev/loop0 at position 83755008 	which has D18xxxxxxxxxxxxx
Found on-disk value: D18xxxxxxxxxxxxx 
Corruption completed at 83755008
D16xxxx: Corrupting /dev/loop1 at position 63766528 	which has D16xxxxxxxxxxxxx
Found on-disk value: D16xxxxxxxxxxxxx 
Corruption completed at 63766528
############### btrfs scrub start --offline /dev/loop0
ERROR: data at bytenr 146407424 mirror 0 csum mismatch, have 0x790f1fe1 expect 0x98eea879
ERROR: data at bytenr 146538496 mirror 0 csum mismatch, have 0x790f1fe1 expect 0x619e94ea
ERROR: data at bytenr 146604032 mirror 0 csum mismatch, have 0x790f1fe1 expect 0x9dc26177
ERROR: full stripe 146538496 CORRUPTED: too many read error or corrupted devices
ERROR: full stripe 146538496: tolerance: 1, missing: 0, read error: 0, csum error: 2
ERROR: data at bytenr 146669568 mirror 0 csum mismatch, have 0x790f1fe1 expect 0xed794c86
ERROR: data at bytenr 146735104 mirror 0 csum mismatch, have 0x790f1fe1 expect 0x1125b91b
ERROR: full stripe 146669568 CORRUPTED: too many read error or corrupted devices
ERROR: full stripe 146669568: tolerance: 1, missing: 0, read error: 0, csum error: 2
ERROR: data at bytenr 146800640 mirror 0 csum mismatch, have 0x790f1fe1 expect 0x102cd14d
ERROR: data at bytenr 146866176 mirror 0 csum mismatch, have 0x790f1fe1 expect 0xec7024d0
ERROR: full stripe 146800640 CORRUPTED: too many read error or corrupted devices
ERROR: full stripe 146800640: tolerance: 1, missing: 0, read error: 0, csum error: 2
full stripe 146407424 REPARIED: corrupted data with good P/Q, repaired
Scrub result:
Tree bytes scrubbed: 131072
Tree extents scrubbed: 8
Data bytes scrubbed: 2134016
Data extents scrubbed: 3
Data bytes without csum: 131072
Read error: 0
Verify error: 0
Csum error: 7
############### mount /dev/loop0 /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/tests/mnt
Found on-disk value: xxxxxxxxxxxx
Scrub failed to fix data stripe corruption
Parity_stripe_entry:/dev/loop2|63963136|00000100000000000000000000000000
Parity: before=00000100000000000000000000000000 after=00000100000000000000000000000000
Parity stripe check passed.
Found on-disk value: xxxxxxxxxxxx
Scrub failed to fix data stripe corruption
Parity_stripe_entry:/dev/loop2|63963136|00000100000000000000000000000000
Parity: before=00000100000000000000000000000000 after=00000100000000000000000000000000
Parity stripe check passed.
Found on-disk value: xxxxxxxxxxxx
Scrub failed to fix data stripe corruption
Parity_stripe_entry:/dev/loop0|83820544|00000100000000000000000000000000
Parity: before=00000100000000000000000000000000 after=00000100000000000000000000000000
Parity stripe check passed.
Found on-disk value: xxxxxxxxxxxx
Scrub failed to fix data stripe corruption
Parity_stripe_entry:/dev/loop0|83820544|00000100000000000000000000000000
Parity: before=00000100000000000000000000000000 after=00000100000000000000000000000000
Parity stripe check passed.
Found on-disk value: xxxxxxxxxxxx
Scrub failed to fix data stripe corruption
Parity_stripe_entry:/dev/loop1|63832064|00000100000000000000000000000000
Parity: before=00000100000000000000000000000000 after=00000100000000000000000000000000
Parity stripe check passed.
Found on-disk value: xxxxxxxxxxxx
Scrub failed to fix data stripe corruption
Parity_stripe_entry:/dev/loop1|63832064|00000100000000000000000000000000
Parity: before=00000100000000000000000000000000 after=00000100000000000000000000000000
Parity stripe check passed.
Scrub corrected value: D16xxxxxxxxxxxxx
Parity_stripe_entry:/dev/loop2|63766528|00000100000000000000000000000000
Parity: before=00000100000000000000000000000000 after=00000100000000000000000000000000
Parity stripe check passed.
############### umount /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/tests/mnt
############### losetup -d /dev/loop0
############### losetup -d /dev/loop1
############### losetup -d /dev/loop2
############### losetup --all
------------------RAID5 Corruption------------------
Filename=file4m.txt Total Stripes=64 	      Data Stripe to be corrupted=34,33,32,31,30,20,18,15,10,8,5
############### losetup --find --show img1
/dev/loop0
############### losetup --find --show img2
/dev/loop1
############### losetup --find --show img3
/dev/loop2
############### /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/mkfs.btrfs -f -d raid5 -m raid5 /dev/loop0 /dev/loop1 /dev/loop2
btrfs-progs v3.18-rc1-1924-g07ea395
See http://btrfs.wiki.kernel.org for more information.

Performing full device TRIM /dev/loop0 (512.00MiB) ...
Performing full device TRIM /dev/loop1 (512.00MiB) ...
Performing full device TRIM /dev/loop2 (512.00MiB) ...
Label:              (null)
UUID:               1e90c15a-79b9-4009-b9e1-3ad624ecc0ba
Node size:          16384
Sector size:        4096
Filesystem size:    1.50GiB
Block group profiles:
  Data:             RAID5           128.00MiB
  Metadata:         RAID5           102.38MiB
  System:           RAID5            16.00MiB
SSD detected:       no
Incompat features:  extref, raid56, skinny-metadata
Number of devices:  3
Devices:
   ID        SIZE  PATH
    1   512.00MiB  /dev/loop0
    2   512.00MiB  /dev/loop1
    3   512.00MiB  /dev/loop2

############### mount /dev/loop0 /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/tests/mnt
############### /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/btrfs inspect-internal dump-tree /dev/loop0
btrfs-progs v3.18-rc1-1924-g07ea395
root tree
leaf 38043648 items 16 free space 12515 generation 8 owner 1
leaf 38043648 flags 0x1(WRITTEN) backref revision 1
fs uuid 1e90c15a-79b9-4009-b9e1-3ad624ecc0ba
chunk uuid ffaf8e24-0a5a-483c-8566-f5f689615a34
	item 0 key (EXTENT_TREE ROOT_ITEM 0) itemoff 15844 itemsize 439
		generation 8 root_dirid 0 bytenr 38027264 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		drop key (0 UNKNOWN.0 0) level 0
	item 1 key (DEV_TREE ROOT_ITEM 0) itemoff 15405 itemsize 439
		generation 6 root_dirid 0 bytenr 37896192 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		drop key (0 UNKNOWN.0 0) level 0
	item 2 key (FS_TREE INODE_REF 6) itemoff 15388 itemsize 17
		inode ref index 0 namelen 7 name: default
	item 3 key (FS_TREE ROOT_ITEM 0) itemoff 14949 itemsize 439
		generation 8 root_dirid 256 bytenr 37994496 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		ctransid 8 otransid 0 stransid 0 rtransid 0
		drop key (0 UNKNOWN.0 0) level 0
	item 4 key (ROOT_TREE_DIR INODE_ITEM 0) itemoff 14789 itemsize 160
		inode generation 3 transid 0 size 0 nbytes 16384
		block group 0 mode 40755 links 1 uid 0 gid 0 rdev 0
		sequence 0 flags 0x0(none)
		atime 1497765326.0 (2017-06-18 11:25:26)
		ctime 1497765326.0 (2017-06-18 11:25:26)
		mtime 1497765326.0 (2017-06-18 11:25:26)
		otime 1497765326.0 (2017-06-18 11:25:26)
	item 5 key (ROOT_TREE_DIR INODE_REF 6) itemoff 14777 itemsize 12
		inode ref index 0 namelen 2 name: ..
	item 6 key (ROOT_TREE_DIR DIR_ITEM 2378154706) itemoff 14740 itemsize 37
		location key (FS_TREE ROOT_ITEM -1) type DIR
		transid 0 data_len 0 name_len 7
		name: default
	item 7 key (CSUM_TREE ROOT_ITEM 0) itemoff 14301 itemsize 439
		generation 8 root_dirid 0 bytenr 38010880 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		drop key (0 UNKNOWN.0 0) level 0
	item 8 key (UUID_TREE ROOT_ITEM 0) itemoff 13862 itemsize 439
		generation 6 root_dirid 0 bytenr 37765120 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 9864564a-f8b3-104a-8854-bd6fc5bcf310
		drop key (0 UNKNOWN.0 0) level 0
	item 9 key (256 INODE_ITEM 0) itemoff 13702 itemsize 160
		inode generation 8 transid 8 size 65536 nbytes 196608
		block group 0 mode 100600 links 1 uid 0 gid 0 rdev 0
		sequence 27 flags 0x3(NODATASUM|NODATACOW|NOCOMPRESS|PREALLOC)
		atime 0.0 (1970-01-01 05:30:00)
		ctime 1497765491.32904611 (2017-06-18 11:28:11)
		mtime 0.0 (1970-01-01 05:30:00)
		otime 0.0 (1970-01-01 05:30:00)
	item 10 key (256 EXTENT_DATA 0) itemoff 13649 itemsize 53
		generation 8 type 1 (regular)
		extent data disk byte 145096704 nr 65536
		extent data offset 0 nr 65536 ram 65536
		extent compression 0 (none)
	item 11 key (257 INODE_ITEM 0) itemoff 13489 itemsize 160
		inode generation 8 transid 8 size 65536 nbytes 196608
		block group 0 mode 100600 links 1 uid 0 gid 0 rdev 0
		sequence 27 flags 0x3(NODATASUM|NODATACOW|NOCOMPRESS|PREALLOC)
		atime 0.0 (1970-01-01 05:30:00)
		ctime 1497765491.32904611 (2017-06-18 11:28:11)
		mtime 0.0 (1970-01-01 05:30:00)
		otime 0.0 (1970-01-01 05:30:00)
	item 12 key (257 EXTENT_DATA 0) itemoff 13436 itemsize 53
		generation 8 type 1 (regular)
		extent data disk byte 145162240 nr 65536
		extent data offset 0 nr 65536 ram 65536
		extent compression 0 (none)
	item 13 key (FREE_SPACE UNTYPED 37748736) itemoff 13395 itemsize 41
		location key (256 INODE_ITEM 0)
		cache generation 8 entries 6 bitmaps 0
	item 14 key (FREE_SPACE UNTYPED 145096704) itemoff 13354 itemsize 41
		location key (257 INODE_ITEM 0)
		cache generation 8 entries 3 bitmaps 0
	item 15 key (DATA_RELOC_TREE ROOT_ITEM 0) itemoff 12915 itemsize 439
		generation 4 root_dirid 256 bytenr 37830656 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		drop key (0 UNKNOWN.0 0) level 0
chunk tree
leaf 20987904 items 6 free space 15407 generation 5 owner 3
leaf 20987904 flags 0x1(WRITTEN) backref revision 1
fs uuid 1e90c15a-79b9-4009-b9e1-3ad624ecc0ba
chunk uuid ffaf8e24-0a5a-483c-8566-f5f689615a34
	item 0 key (DEV_ITEMS DEV_ITEM 1) itemoff 16185 itemsize 98
		devid 1 total_bytes 536870912 bytes_used 129171456
		io_align 4096 io_width 4096 sector_size 4096 type 0
		generation 0 start_offset 0 dev_group 0
		seek_speed 0 bandwidth 0
		uuid 6b9c880a-7ded-49bb-bd49-4e1cf7510f9b
		fsid 1e90c15a-79b9-4009-b9e1-3ad624ecc0ba
	item 1 key (DEV_ITEMS DEV_ITEM 2) itemoff 16087 itemsize 98
		devid 2 total_bytes 536870912 bytes_used 129171456
		io_align 4096 io_width 4096 sector_size 4096 type 0
		generation 0 start_offset 0 dev_group 0
		seek_speed 0 bandwidth 0
		uuid d51fe13d-3b63-4b60-9c8a-65b5cae7c616
		fsid 1e90c15a-79b9-4009-b9e1-3ad624ecc0ba
	item 2 key (DEV_ITEMS DEV_ITEM 3) itemoff 15989 itemsize 98
		devid 3 total_bytes 536870912 bytes_used 129171456
		io_align 4096 io_width 4096 sector_size 4096 type 0
		generation 0 start_offset 0 dev_group 0
		seek_speed 0 bandwidth 0
		uuid ca25bcba-e245-4fa0-97fd-d486891c3c25
		fsid 1e90c15a-79b9-4009-b9e1-3ad624ecc0ba
	item 3 key (FIRST_CHUNK_TREE CHUNK_ITEM 20971520) itemoff 15845 itemsize 144
		length 16777216 owner 2 stripe_len 65536 type SYSTEM|RAID5
		io_align 65536 io_width 65536 sector_size 4096
		num_stripes 3 sub_stripes 0
			stripe 0 devid 3 offset 1048576
			dev_uuid ca25bcba-e245-4fa0-97fd-d486891c3c25
			stripe 1 devid 2 offset 1048576
			dev_uuid d51fe13d-3b63-4b60-9c8a-65b5cae7c616
			stripe 2 devid 1 offset 20971520
			dev_uuid 6b9c880a-7ded-49bb-bd49-4e1cf7510f9b
	item 4 key (FIRST_CHUNK_TREE CHUNK_ITEM 37748736) itemoff 15701 itemsize 144
		length 107347968 owner 2 stripe_len 65536 type METADATA|RAID5
		io_align 65536 io_width 65536 sector_size 4096
		num_stripes 3 sub_stripes 0
			stripe 0 devid 3 offset 9437184
			dev_uuid ca25bcba-e245-4fa0-97fd-d486891c3c25
			stripe 1 devid 2 offset 9437184
			dev_uuid d51fe13d-3b63-4b60-9c8a-65b5cae7c616
			stripe 2 devid 1 offset 29360128
			dev_uuid 6b9c880a-7ded-49bb-bd49-4e1cf7510f9b
	item 5 key (FIRST_CHUNK_TREE CHUNK_ITEM 145096704) itemoff 15557 itemsize 144
		length 134217728 owner 2 stripe_len 65536 type DATA|RAID5
		io_align 65536 io_width 65536 sector_size 4096
		num_stripes 3 sub_stripes 0
			stripe 0 devid 3 offset 63111168
			dev_uuid ca25bcba-e245-4fa0-97fd-d486891c3c25
			stripe 1 devid 2 offset 63111168
			dev_uuid d51fe13d-3b63-4b60-9c8a-65b5cae7c616
			stripe 2 devid 1 offset 83034112
			dev_uuid 6b9c880a-7ded-49bb-bd49-4e1cf7510f9b
extent tree key (EXTENT_TREE ROOT_ITEM 0) 
leaf 38027264 items 14 free space 15438 generation 8 owner 2
leaf 38027264 flags 0x1(WRITTEN) backref revision 1
fs uuid 1e90c15a-79b9-4009-b9e1-3ad624ecc0ba
chunk uuid ffaf8e24-0a5a-483c-8566-f5f689615a34
	item 0 key (20971520 BLOCK_GROUP_ITEM 16777216) itemoff 16259 itemsize 24
		block group used 16384 chunk_objectid 256 flags SYSTEM|RAID5
	item 1 key (20987904 METADATA_ITEM 0) itemoff 16226 itemsize 33
		extent refs 1 gen 5 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 3
	item 2 key (37748736 BLOCK_GROUP_ITEM 107347968) itemoff 16202 itemsize 24
		block group used 114688 chunk_objectid 256 flags METADATA|RAID5
	item 3 key (37765120 METADATA_ITEM 0) itemoff 16169 itemsize 33
		extent refs 1 gen 6 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 9
	item 4 key (37830656 METADATA_ITEM 0) itemoff 16136 itemsize 33
		extent refs 1 gen 4 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 18446744073709551607
	item 5 key (37896192 METADATA_ITEM 0) itemoff 16103 itemsize 33
		extent refs 1 gen 6 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 4
	item 6 key (37994496 METADATA_ITEM 0) itemoff 16070 itemsize 33
		extent refs 1 gen 8 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 5
	item 7 key (38010880 METADATA_ITEM 0) itemoff 16037 itemsize 33
		extent refs 1 gen 8 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 7
	item 8 key (38027264 METADATA_ITEM 0) itemoff 16004 itemsize 33
		extent refs 1 gen 8 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 2
	item 9 key (38043648 METADATA_ITEM 0) itemoff 15971 itemsize 33
		extent refs 1 gen 8 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 1
	item 10 key (145096704 EXTENT_ITEM 65536) itemoff 15918 itemsize 53
		extent refs 1 gen 8 flags DATA
		extent data backref root 1 objectid 256 offset 0 count 1
	item 11 key (145096704 BLOCK_GROUP_ITEM 134217728) itemoff 15894 itemsize 24
		block group used 4325376 chunk_objectid 256 flags DATA|RAID5
	item 12 key (145162240 EXTENT_ITEM 65536) itemoff 15841 itemsize 53
		extent refs 1 gen 8 flags DATA
		extent data backref root 1 objectid 257 offset 0 count 1
	item 13 key (145358848 EXTENT_ITEM 4194304) itemoff 15788 itemsize 53
		extent refs 1 gen 8 flags DATA
		extent data backref root 5 objectid 257 offset 0 count 1
device tree key (DEV_TREE ROOT_ITEM 0) 
leaf 37896192 items 12 free space 15431 generation 6 owner 4
leaf 37896192 flags 0x1(WRITTEN) backref revision 1
fs uuid 1e90c15a-79b9-4009-b9e1-3ad624ecc0ba
chunk uuid ffaf8e24-0a5a-483c-8566-f5f689615a34
	item 0 key (0 PERSISTENT_ITEM 1) itemoff 16243 itemsize 40
		persistent item objectid 0 offset 1
		device stats
		write_errs 0 read_errs 0 flush_errs 0 corruption_errs 0 generation 0
	item 1 key (0 PERSISTENT_ITEM 2) itemoff 16203 itemsize 40
		persistent item objectid 0 offset 2
		device stats
		write_errs 0 read_errs 0 flush_errs 0 corruption_errs 0 generation 0
	item 2 key (0 PERSISTENT_ITEM 3) itemoff 16163 itemsize 40
		persistent item objectid 0 offset 3
		device stats
		write_errs 0 read_errs 0 flush_errs 0 corruption_errs 0 generation 0
	item 3 key (1 DEV_EXTENT 20971520) itemoff 16115 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 20971520 length 8388608
		chunk_tree_uuid ffaf8e24-0a5a-483c-8566-f5f689615a34
	item 4 key (1 DEV_EXTENT 29360128) itemoff 16067 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 37748736 length 53673984
		chunk_tree_uuid ffaf8e24-0a5a-483c-8566-f5f689615a34
	item 5 key (1 DEV_EXTENT 83034112) itemoff 16019 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 145096704 length 67108864
		chunk_tree_uuid ffaf8e24-0a5a-483c-8566-f5f689615a34
	item 6 key (2 DEV_EXTENT 1048576) itemoff 15971 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 20971520 length 8388608
		chunk_tree_uuid ffaf8e24-0a5a-483c-8566-f5f689615a34
	item 7 key (2 DEV_EXTENT 9437184) itemoff 15923 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 37748736 length 53673984
		chunk_tree_uuid ffaf8e24-0a5a-483c-8566-f5f689615a34
	item 8 key (2 DEV_EXTENT 63111168) itemoff 15875 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 145096704 length 67108864
		chunk_tree_uuid ffaf8e24-0a5a-483c-8566-f5f689615a34
	item 9 key (3 DEV_EXTENT 1048576) itemoff 15827 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 20971520 length 8388608
		chunk_tree_uuid ffaf8e24-0a5a-483c-8566-f5f689615a34
	item 10 key (3 DEV_EXTENT 9437184) itemoff 15779 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 37748736 length 53673984
		chunk_tree_uuid ffaf8e24-0a5a-483c-8566-f5f689615a34
	item 11 key (3 DEV_EXTENT 63111168) itemoff 15731 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 145096704 length 67108864
		chunk_tree_uuid ffaf8e24-0a5a-483c-8566-f5f689615a34
fs tree key (FS_TREE ROOT_ITEM 0) 
leaf 37994496 items 7 free space 15623 generation 8 owner 5
leaf 37994496 flags 0x1(WRITTEN) backref revision 1
fs uuid 1e90c15a-79b9-4009-b9e1-3ad624ecc0ba
chunk uuid ffaf8e24-0a5a-483c-8566-f5f689615a34
	item 0 key (256 INODE_ITEM 0) itemoff 16123 itemsize 160
		inode generation 3 transid 8 size 20 nbytes 16384
		block group 0 mode 40755 links 1 uid 0 gid 0 rdev 0
		sequence 0 flags 0x1(none)
		atime 1497765490.820904510 (2017-06-18 11:28:10)
		ctime 1497765490.820904510 (2017-06-18 11:28:10)
		mtime 1497765490.820904510 (2017-06-18 11:28:10)
		otime 1497765326.0 (2017-06-18 11:25:26)
	item 1 key (256 INODE_REF 256) itemoff 16111 itemsize 12
		inode ref index 0 namelen 2 name: ..
	item 2 key (256 DIR_ITEM 2995885991) itemoff 16071 itemsize 40
		location key (257 INODE_ITEM 0) type FILE
		transid 8 data_len 0 name_len 10
		name: file4m.txt
	item 3 key (256 DIR_INDEX 2) itemoff 16031 itemsize 40
		location key (257 INODE_ITEM 0) type FILE
		transid 8 data_len 0 name_len 10
		name: file4m.txt
	item 4 key (257 INODE_ITEM 0) itemoff 15871 itemsize 160
		inode generation 8 transid 8 size 4194304 nbytes 4194304
		block group 0 mode 100644 links 1 uid 0 gid 0 rdev 0
		sequence 0 flags 0x20(none)
		atime 1497765490.820904510 (2017-06-18 11:28:10)
		ctime 1497765490.828904514 (2017-06-18 11:28:10)
		mtime 1497765490.828904514 (2017-06-18 11:28:10)
		otime 1497765490.820904510 (2017-06-18 11:28:10)
	item 5 key (257 INODE_REF 256) itemoff 15851 itemsize 20
		inode ref index 2 namelen 10 name: file4m.txt
	item 6 key (257 EXTENT_DATA 0) itemoff 15798 itemsize 53
		generation 8 type 1 (regular)
		extent data disk byte 145358848 nr 4194304
		extent data offset 0 nr 4194304 ram 4194304
		extent compression 0 (none)
checksum tree key (CSUM_TREE ROOT_ITEM 0) 
leaf 38010880 items 4 free space 12087 generation 8 owner 7
leaf 38010880 flags 0x1(WRITTEN) backref revision 1
fs uuid 1e90c15a-79b9-4009-b9e1-3ad624ecc0ba
chunk uuid ffaf8e24-0a5a-483c-8566-f5f689615a34
	item 0 key (EXTENT_CSUM EXTENT_CSUM 145358848) itemoff 16155 itemsize 128
		extent csum item
	item 1 key (EXTENT_CSUM EXTENT_CSUM 145489920) itemoff 14235 itemsize 1920
		extent csum item
	item 2 key (EXTENT_CSUM EXTENT_CSUM 147456000) itemoff 12315 itemsize 1920
		extent csum item
	item 3 key (EXTENT_CSUM EXTENT_CSUM 149422080) itemoff 12187 itemsize 128
		extent csum item
uuid tree key (UUID_TREE ROOT_ITEM 0) 
leaf 37765120 items 0 free space 16283 generation 6 owner 9
leaf 37765120 flags 0x1(WRITTEN) backref revision 1
fs uuid 1e90c15a-79b9-4009-b9e1-3ad624ecc0ba
chunk uuid ffaf8e24-0a5a-483c-8566-f5f689615a34
data reloc tree key (DATA_RELOC_TREE ROOT_ITEM 0) 
leaf 37830656 items 2 free space 16061 generation 4 owner 18446744073709551607
leaf 37830656 flags 0x1(WRITTEN) backref revision 1
fs uuid 1e90c15a-79b9-4009-b9e1-3ad624ecc0ba
chunk uuid ffaf8e24-0a5a-483c-8566-f5f689615a34
	item 0 key (256 INODE_ITEM 0) itemoff 16123 itemsize 160
		inode generation 3 transid 0 size 0 nbytes 16384
		block group 0 mode 40755 links 1 uid 0 gid 0 rdev 0
		sequence 0 flags 0x0(none)
		atime 1497765326.0 (2017-06-18 11:25:26)
		ctime 1497765326.0 (2017-06-18 11:25:26)
		mtime 1497765326.0 (2017-06-18 11:25:26)
		otime 1497765326.0 (2017-06-18 11:25:26)
	item 1 key (256 INODE_REF 256) itemoff 16111 itemsize 12
		inode ref index 0 namelen 2 name: ..
total bytes 1610612736
bytes used 4456448
uuid 1e90c15a-79b9-4009-b9e1-3ad624ecc0ba
Single extent found.
logical_addr: 145358848 length=4194304 		total_stripe=64
############### umount /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/tests/mnt
D34xxxx: Corrupting /dev/loop1 at position 64356352 	which has D34xxxxxxxxxxxxx
Found on-disk value: D34xxxxxxxxxxxxx 
Corruption completed at 64356352
D33xxxx: Corrupting /dev/loop1 at position 64290816 	which has D33xxxxxxxxxxxxx
Found on-disk value: D33xxxxxxxxxxxxx 
Corruption completed at 64290816
D32xxxx: Corrupting /dev/loop2 at position 64290816 	which has D32xxxxxxxxxxxxx
Found on-disk value: D32xxxxxxxxxxxxx 
Corruption completed at 64290816
D31xxxx: Corrupting /dev/loop2 at position 64225280 	which has D31xxxxxxxxxxxxx
Found on-disk value: D31xxxxxxxxxxxxx 
Corruption completed at 64225280
D30xxxx: Corrupting /dev/loop0 at position 84148224 	which has D30xxxxxxxxxxxxx
Found on-disk value: D30xxxxxxxxxxxxx 
Corruption completed at 84148224
D20xxxx: Corrupting /dev/loop2 at position 63897600 	which has D20xxxxxxxxxxxxx
Found on-disk value: D20xxxxxxxxxxxxx 
Corruption completed at 63897600
D18xxxx: Corrupting /dev/loop0 at position 83755008 	which has D18xxxxxxxxxxxxx
Found on-disk value: D18xxxxxxxxxxxxx 
Corruption completed at 83755008
D15xxxx: Corrupting /dev/loop1 at position 63700992 	which has D15xxxxxxxxxxxxx
Found on-disk value: D15xxxxxxxxxxxxx 
Corruption completed at 63700992
D10xxxx: Corrupting /dev/loop1 at position 63569920 	which has D10xxxxxxxxxxxxx
Found on-disk value: D10xxxxxxxxxxxxx 
Corruption completed at 63569920
D8xxxx: Corrupting /dev/loop2 at position 63504384 	which has D8xxxxxxxxxxxxxx
Found on-disk value: D8xxxxxxxxxxxxxx 
Corruption completed at 63504384
D5xxxx: Corrupting /dev/loop0 at position 83296256 	which has D5xxxxxxxxxxxxxx
Found on-disk value: D5xxxxxxxxxxxxxx 
Corruption completed at 83296256
############### btrfs scrub start --offline /dev/loop0
ERROR: data at bytenr 145686528 mirror 0 csum mismatch, have 0x790f1fe1 expect 0x16ff0501
ERROR: data at bytenr 145883136 mirror 0 csum mismatch, have 0x790f1fe1 expect 0xe07b4e8d
ERROR: data at bytenr 146014208 mirror 0 csum mismatch, have 0x790f1fe1 expect 0x9afc78d5
ERROR: data at bytenr 146341888 mirror 0 csum mismatch, have 0x790f1fe1 expect 0x99e7c02f
ERROR: data at bytenr 146538496 mirror 0 csum mismatch, have 0x790f1fe1 expect 0x619e94ea
ERROR: data at bytenr 146669568 mirror 0 csum mismatch, have 0x790f1fe1 expect 0xed794c86
ERROR: data at bytenr 147324928 mirror 0 csum mismatch, have 0x790f1fe1 expect 0xc005a0b7
ERROR: data at bytenr 147390464 mirror 0 csum mismatch, have 0x790f1fe1 expect 0x3c59552a
ERROR: full stripe 147324928 CORRUPTED: too many read error or corrupted devices
ERROR: full stripe 147324928: tolerance: 1, missing: 0, read error: 0, csum error: 2
ERROR: data at bytenr 147456000 mirror 0 csum mismatch, have 0x790f1fe1 expect 0x3d503d7c
ERROR: data at bytenr 147521536 mirror 0 csum mismatch, have 0x790f1fe1 expect 0xc10cc8e1
ERROR: full stripe 147456000 CORRUPTED: too many read error or corrupted devices
ERROR: full stripe 147456000: tolerance: 1, missing: 0, read error: 0, csum error: 2
ERROR: data at bytenr 147587072 mirror 0 csum mismatch, have 0x790f1fe1 expect 0x3f42edd0
full stripe 145620992 REPARIED: corrupted data with good P/Q, repaired
full stripe 145883136 REPARIED: corrupted data with good P/Q, repaired
full stripe 146014208 REPARIED: corrupted data with good P/Q, repaired
full stripe 146276352 REPARIED: corrupted data with good P/Q, repaired
full stripe 146538496 REPARIED: corrupted data with good P/Q, repaired
full stripe 146669568 REPARIED: corrupted data with good P/Q, repaired
full stripe 147587072 REPARIED: corrupted data with good P/Q, repaired
Scrub result:
Tree bytes scrubbed: 131072
Tree extents scrubbed: 8
Data bytes scrubbed: 4608000
Data extents scrubbed: 3
Data bytes without csum: 131072
Read error: 0
Verify error: 0
Csum error: 11
############### mount /dev/loop0 /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/tests/mnt
Scrub corrected value: D34xxxxxxxxxxxxx
Parity_stripe_entry:/dev/loop2|64356352|00000100000000000000000000000000
Parity: before=00000100000000000000000000000000 after=00000100000000000000000000000000
Parity stripe check passed.
Found on-disk value: xxxxxxxxxxxx
Scrub failed to fix data stripe corruption
Parity_stripe_entry:/dev/loop0|84213760|00000100000000000000000000000000
Parity: before=00000100000000000000000000000000 after=00000100000000000000000000000000
Parity stripe check passed.
Found on-disk value: xxxxxxxxxxxx
Scrub failed to fix data stripe corruption
Parity_stripe_entry:/dev/loop0|84213760|00000100000000000000000000000000
Parity: before=00000100000000000000000000000000 after=00000100000000000000000000000000
Parity stripe check passed.
Found on-disk value: xxxxxxxxxxxx
Scrub failed to fix data stripe corruption
Parity_stripe_entry:/dev/loop1|64225280|00000100000000000000000000000000
Parity: before=00000100000000000000000000000000 after=00000100000000000000000000000000
Parity stripe check passed.
Found on-disk value: xxxxxxxxxxxx
Scrub failed to fix data stripe corruption
Parity_stripe_entry:/dev/loop1|64225280|00000100000000000000000000000000
Parity: before=00000100000000000000000000000000 after=00000100000000000000000000000000
Parity stripe check passed.
Scrub corrected value: D20xxxxxxxxxxxxx
Parity_stripe_entry:/dev/loop0|83820544|00000100000000000000000000000000
Parity: before=00000100000000000000000000000000 after=00000100000000000000000000000000
Parity stripe check passed.
Scrub corrected value: D18xxxxxxxxxxxxx
Parity_stripe_entry:/dev/loop1|63832064|00000100000000000000000000000000
Parity: before=00000100000000000000000000000000 after=00000100000000000000000000000000
Parity stripe check passed.
Scrub corrected value: D15xxxxxxxxxxxxx
Parity_stripe_entry:/dev/loop0|83623936|00000100000000000000000000000000
Parity: before=00000100000000000000000000000000 after=00000100000000000000000000000000
Parity stripe check passed.
Scrub corrected value: D10xxxxxxxxxxxxx
Parity_stripe_entry:/dev/loop2|63569920|00000100000000000000000000000000
Parity: before=00000100000000000000000000000000 after=00000100000000000000000000000000
Parity stripe check passed.
Scrub corrected value: D8xxxxxxxxxxxxxx
Parity_stripe_entry:/dev/loop0|83427328|00010000000000000000000000000000
Parity: before=00010000000000000000000000000000 after=00010000000000000000000000000000
Parity stripe check passed.
Scrub corrected value: D5xxxxxxxxxxxxxx
Parity_stripe_entry:/dev/loop2|63373312|00010000000000000000000000000000
Parity: before=00010000000000000000000000000000 after=00010000000000000000000000000000
Parity stripe check passed.
############### umount /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/tests/mnt
############### losetup -d /dev/loop0
############### losetup -d /dev/loop1
############### losetup -d /dev/loop2
############### losetup --all
------------------RAID5 Corruption------------------
Filename=file8m.txt Total Stripes=128 	      Data Stripe to be corrupted=100,90,80,70,60,50,40,30,20,10
############### losetup --find --show img1
/dev/loop0
############### losetup --find --show img2
/dev/loop1
############### losetup --find --show img3
/dev/loop2
############### /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/mkfs.btrfs -f -d raid5 -m raid5 /dev/loop0 /dev/loop1 /dev/loop2
btrfs-progs v3.18-rc1-1924-g07ea395
See http://btrfs.wiki.kernel.org for more information.

Performing full device TRIM /dev/loop0 (512.00MiB) ...
Performing full device TRIM /dev/loop1 (512.00MiB) ...
Performing full device TRIM /dev/loop2 (512.00MiB) ...
Label:              (null)
UUID:               3a41f46e-eb07-4e01-9e33-f232b0c45511
Node size:          16384
Sector size:        4096
Filesystem size:    1.50GiB
Block group profiles:
  Data:             RAID5           128.00MiB
  Metadata:         RAID5           102.38MiB
  System:           RAID5            16.00MiB
SSD detected:       no
Incompat features:  extref, raid56, skinny-metadata
Number of devices:  3
Devices:
   ID        SIZE  PATH
    1   512.00MiB  /dev/loop0
    2   512.00MiB  /dev/loop1
    3   512.00MiB  /dev/loop2

############### mount /dev/loop0 /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/tests/mnt
############### /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/btrfs inspect-internal dump-tree /dev/loop0
btrfs-progs v3.18-rc1-1924-g07ea395
root tree
leaf 38043648 items 16 free space 12515 generation 8 owner 1
leaf 38043648 flags 0x1(WRITTEN) backref revision 1
fs uuid 3a41f46e-eb07-4e01-9e33-f232b0c45511
chunk uuid 65d68ca0-ee27-470f-8f29-d42c4f406328
	item 0 key (EXTENT_TREE ROOT_ITEM 0) itemoff 15844 itemsize 439
		generation 8 root_dirid 0 bytenr 38027264 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		drop key (0 UNKNOWN.0 0) level 0
	item 1 key (DEV_TREE ROOT_ITEM 0) itemoff 15405 itemsize 439
		generation 6 root_dirid 0 bytenr 37896192 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		drop key (0 UNKNOWN.0 0) level 0
	item 2 key (FS_TREE INODE_REF 6) itemoff 15388 itemsize 17
		inode ref index 0 namelen 7 name: default
	item 3 key (FS_TREE ROOT_ITEM 0) itemoff 14949 itemsize 439
		generation 8 root_dirid 256 bytenr 37994496 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		ctransid 8 otransid 0 stransid 0 rtransid 0
		drop key (0 UNKNOWN.0 0) level 0
	item 4 key (ROOT_TREE_DIR INODE_ITEM 0) itemoff 14789 itemsize 160
		inode generation 3 transid 0 size 0 nbytes 16384
		block group 0 mode 40755 links 1 uid 0 gid 0 rdev 0
		sequence 0 flags 0x0(none)
		atime 1497765515.0 (2017-06-18 11:28:35)
		ctime 1497765515.0 (2017-06-18 11:28:35)
		mtime 1497765515.0 (2017-06-18 11:28:35)
		otime 1497765515.0 (2017-06-18 11:28:35)
	item 5 key (ROOT_TREE_DIR INODE_REF 6) itemoff 14777 itemsize 12
		inode ref index 0 namelen 2 name: ..
	item 6 key (ROOT_TREE_DIR DIR_ITEM 2378154706) itemoff 14740 itemsize 37
		location key (FS_TREE ROOT_ITEM -1) type DIR
		transid 0 data_len 0 name_len 7
		name: default
	item 7 key (CSUM_TREE ROOT_ITEM 0) itemoff 14301 itemsize 439
		generation 8 root_dirid 0 bytenr 38010880 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		drop key (0 UNKNOWN.0 0) level 0
	item 8 key (UUID_TREE ROOT_ITEM 0) itemoff 13862 itemsize 439
		generation 6 root_dirid 0 bytenr 37765120 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 0dbb8e9f-e749-c941-80c9-455f217ccac8
		drop key (0 UNKNOWN.0 0) level 0
	item 9 key (256 INODE_ITEM 0) itemoff 13702 itemsize 160
		inode generation 8 transid 8 size 65536 nbytes 196608
		block group 0 mode 100600 links 1 uid 0 gid 0 rdev 0
		sequence 27 flags 0x3(NODATASUM|NODATACOW|NOCOMPRESS|PREALLOC)
		atime 0.0 (1970-01-01 05:30:00)
		ctime 1497765844.697491047 (2017-06-18 11:34:04)
		mtime 0.0 (1970-01-01 05:30:00)
		otime 0.0 (1970-01-01 05:30:00)
	item 10 key (256 EXTENT_DATA 0) itemoff 13649 itemsize 53
		generation 8 type 1 (regular)
		extent data disk byte 145096704 nr 65536
		extent data offset 0 nr 65536 ram 65536
		extent compression 0 (none)
	item 11 key (257 INODE_ITEM 0) itemoff 13489 itemsize 160
		inode generation 8 transid 8 size 65536 nbytes 196608
		block group 0 mode 100600 links 1 uid 0 gid 0 rdev 0
		sequence 27 flags 0x3(NODATASUM|NODATACOW|NOCOMPRESS|PREALLOC)
		atime 0.0 (1970-01-01 05:30:00)
		ctime 1497765844.697491047 (2017-06-18 11:34:04)
		mtime 0.0 (1970-01-01 05:30:00)
		otime 0.0 (1970-01-01 05:30:00)
	item 12 key (257 EXTENT_DATA 0) itemoff 13436 itemsize 53
		generation 8 type 1 (regular)
		extent data disk byte 145162240 nr 65536
		extent data offset 0 nr 65536 ram 65536
		extent compression 0 (none)
	item 13 key (FREE_SPACE UNTYPED 37748736) itemoff 13395 itemsize 41
		location key (256 INODE_ITEM 0)
		cache generation 8 entries 6 bitmaps 0
	item 14 key (FREE_SPACE UNTYPED 145096704) itemoff 13354 itemsize 41
		location key (257 INODE_ITEM 0)
		cache generation 8 entries 3 bitmaps 0
	item 15 key (DATA_RELOC_TREE ROOT_ITEM 0) itemoff 12915 itemsize 439
		generation 4 root_dirid 256 bytenr 37830656 level 0 refs 1
		lastsnap 0 byte_limit 0 bytes_used 16384 flags 0x0(none)
		uuid 00000000-0000-0000-0000-000000000000
		drop key (0 UNKNOWN.0 0) level 0
chunk tree
leaf 20987904 items 6 free space 15407 generation 5 owner 3
leaf 20987904 flags 0x1(WRITTEN) backref revision 1
fs uuid 3a41f46e-eb07-4e01-9e33-f232b0c45511
chunk uuid 65d68ca0-ee27-470f-8f29-d42c4f406328
	item 0 key (DEV_ITEMS DEV_ITEM 1) itemoff 16185 itemsize 98
		devid 1 total_bytes 536870912 bytes_used 129171456
		io_align 4096 io_width 4096 sector_size 4096 type 0
		generation 0 start_offset 0 dev_group 0
		seek_speed 0 bandwidth 0
		uuid 94ebac66-775a-463f-8ea1-40118253609c
		fsid 3a41f46e-eb07-4e01-9e33-f232b0c45511
	item 1 key (DEV_ITEMS DEV_ITEM 2) itemoff 16087 itemsize 98
		devid 2 total_bytes 536870912 bytes_used 129171456
		io_align 4096 io_width 4096 sector_size 4096 type 0
		generation 0 start_offset 0 dev_group 0
		seek_speed 0 bandwidth 0
		uuid 5be455da-c164-4847-abd7-b42e641372c8
		fsid 3a41f46e-eb07-4e01-9e33-f232b0c45511
	item 2 key (DEV_ITEMS DEV_ITEM 3) itemoff 15989 itemsize 98
		devid 3 total_bytes 536870912 bytes_used 129171456
		io_align 4096 io_width 4096 sector_size 4096 type 0
		generation 0 start_offset 0 dev_group 0
		seek_speed 0 bandwidth 0
		uuid 1a3648db-f8f8-4c4b-b5cf-316b28a17f71
		fsid 3a41f46e-eb07-4e01-9e33-f232b0c45511
	item 3 key (FIRST_CHUNK_TREE CHUNK_ITEM 20971520) itemoff 15845 itemsize 144
		length 16777216 owner 2 stripe_len 65536 type SYSTEM|RAID5
		io_align 65536 io_width 65536 sector_size 4096
		num_stripes 3 sub_stripes 0
			stripe 0 devid 3 offset 1048576
			dev_uuid 1a3648db-f8f8-4c4b-b5cf-316b28a17f71
			stripe 1 devid 2 offset 1048576
			dev_uuid 5be455da-c164-4847-abd7-b42e641372c8
			stripe 2 devid 1 offset 20971520
			dev_uuid 94ebac66-775a-463f-8ea1-40118253609c
	item 4 key (FIRST_CHUNK_TREE CHUNK_ITEM 37748736) itemoff 15701 itemsize 144
		length 107347968 owner 2 stripe_len 65536 type METADATA|RAID5
		io_align 65536 io_width 65536 sector_size 4096
		num_stripes 3 sub_stripes 0
			stripe 0 devid 3 offset 9437184
			dev_uuid 1a3648db-f8f8-4c4b-b5cf-316b28a17f71
			stripe 1 devid 2 offset 9437184
			dev_uuid 5be455da-c164-4847-abd7-b42e641372c8
			stripe 2 devid 1 offset 29360128
			dev_uuid 94ebac66-775a-463f-8ea1-40118253609c
	item 5 key (FIRST_CHUNK_TREE CHUNK_ITEM 145096704) itemoff 15557 itemsize 144
		length 134217728 owner 2 stripe_len 65536 type DATA|RAID5
		io_align 65536 io_width 65536 sector_size 4096
		num_stripes 3 sub_stripes 0
			stripe 0 devid 3 offset 63111168
			dev_uuid 1a3648db-f8f8-4c4b-b5cf-316b28a17f71
			stripe 1 devid 2 offset 63111168
			dev_uuid 5be455da-c164-4847-abd7-b42e641372c8
			stripe 2 devid 1 offset 83034112
			dev_uuid 94ebac66-775a-463f-8ea1-40118253609c
extent tree key (EXTENT_TREE ROOT_ITEM 0) 
leaf 38027264 items 14 free space 15438 generation 8 owner 2
leaf 38027264 flags 0x1(WRITTEN) backref revision 1
fs uuid 3a41f46e-eb07-4e01-9e33-f232b0c45511
chunk uuid 65d68ca0-ee27-470f-8f29-d42c4f406328
	item 0 key (20971520 BLOCK_GROUP_ITEM 16777216) itemoff 16259 itemsize 24
		block group used 16384 chunk_objectid 256 flags SYSTEM|RAID5
	item 1 key (20987904 METADATA_ITEM 0) itemoff 16226 itemsize 33
		extent refs 1 gen 5 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 3
	item 2 key (37748736 BLOCK_GROUP_ITEM 107347968) itemoff 16202 itemsize 24
		block group used 114688 chunk_objectid 256 flags METADATA|RAID5
	item 3 key (37765120 METADATA_ITEM 0) itemoff 16169 itemsize 33
		extent refs 1 gen 6 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 9
	item 4 key (37830656 METADATA_ITEM 0) itemoff 16136 itemsize 33
		extent refs 1 gen 4 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 18446744073709551607
	item 5 key (37896192 METADATA_ITEM 0) itemoff 16103 itemsize 33
		extent refs 1 gen 6 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 4
	item 6 key (37994496 METADATA_ITEM 0) itemoff 16070 itemsize 33
		extent refs 1 gen 8 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 5
	item 7 key (38010880 METADATA_ITEM 0) itemoff 16037 itemsize 33
		extent refs 1 gen 8 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 7
	item 8 key (38027264 METADATA_ITEM 0) itemoff 16004 itemsize 33
		extent refs 1 gen 8 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 2
	item 9 key (38043648 METADATA_ITEM 0) itemoff 15971 itemsize 33
		extent refs 1 gen 8 flags TREE_BLOCK
		tree block skinny level 0
		tree block backref root 1
	item 10 key (145096704 EXTENT_ITEM 65536) itemoff 15918 itemsize 53
		extent refs 1 gen 8 flags DATA
		extent data backref root 1 objectid 256 offset 0 count 1
	item 11 key (145096704 BLOCK_GROUP_ITEM 134217728) itemoff 15894 itemsize 24
		block group used 8519680 chunk_objectid 256 flags DATA|RAID5
	item 12 key (145162240 EXTENT_ITEM 65536) itemoff 15841 itemsize 53
		extent refs 1 gen 8 flags DATA
		extent data backref root 1 objectid 257 offset 0 count 1
	item 13 key (153223168 EXTENT_ITEM 8388608) itemoff 15788 itemsize 53
		extent refs 1 gen 8 flags DATA
		extent data backref root 5 objectid 257 offset 0 count 1
device tree key (DEV_TREE ROOT_ITEM 0) 
leaf 37896192 items 12 free space 15431 generation 6 owner 4
leaf 37896192 flags 0x1(WRITTEN) backref revision 1
fs uuid 3a41f46e-eb07-4e01-9e33-f232b0c45511
chunk uuid 65d68ca0-ee27-470f-8f29-d42c4f406328
	item 0 key (0 PERSISTENT_ITEM 1) itemoff 16243 itemsize 40
		persistent item objectid 0 offset 1
		device stats
		write_errs 0 read_errs 0 flush_errs 0 corruption_errs 0 generation 0
	item 1 key (0 PERSISTENT_ITEM 2) itemoff 16203 itemsize 40
		persistent item objectid 0 offset 2
		device stats
		write_errs 0 read_errs 0 flush_errs 0 corruption_errs 0 generation 0
	item 2 key (0 PERSISTENT_ITEM 3) itemoff 16163 itemsize 40
		persistent item objectid 0 offset 3
		device stats
		write_errs 0 read_errs 0 flush_errs 0 corruption_errs 0 generation 0
	item 3 key (1 DEV_EXTENT 20971520) itemoff 16115 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 20971520 length 8388608
		chunk_tree_uuid 65d68ca0-ee27-470f-8f29-d42c4f406328
	item 4 key (1 DEV_EXTENT 29360128) itemoff 16067 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 37748736 length 53673984
		chunk_tree_uuid 65d68ca0-ee27-470f-8f29-d42c4f406328
	item 5 key (1 DEV_EXTENT 83034112) itemoff 16019 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 145096704 length 67108864
		chunk_tree_uuid 65d68ca0-ee27-470f-8f29-d42c4f406328
	item 6 key (2 DEV_EXTENT 1048576) itemoff 15971 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 20971520 length 8388608
		chunk_tree_uuid 65d68ca0-ee27-470f-8f29-d42c4f406328
	item 7 key (2 DEV_EXTENT 9437184) itemoff 15923 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 37748736 length 53673984
		chunk_tree_uuid 65d68ca0-ee27-470f-8f29-d42c4f406328
	item 8 key (2 DEV_EXTENT 63111168) itemoff 15875 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 145096704 length 67108864
		chunk_tree_uuid 65d68ca0-ee27-470f-8f29-d42c4f406328
	item 9 key (3 DEV_EXTENT 1048576) itemoff 15827 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 20971520 length 8388608
		chunk_tree_uuid 65d68ca0-ee27-470f-8f29-d42c4f406328
	item 10 key (3 DEV_EXTENT 9437184) itemoff 15779 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 37748736 length 53673984
		chunk_tree_uuid 65d68ca0-ee27-470f-8f29-d42c4f406328
	item 11 key (3 DEV_EXTENT 63111168) itemoff 15731 itemsize 48
		dev extent chunk_tree 3
		chunk_objectid 256 chunk_offset 145096704 length 67108864
		chunk_tree_uuid 65d68ca0-ee27-470f-8f29-d42c4f406328
fs tree key (FS_TREE ROOT_ITEM 0) 
leaf 37994496 items 7 free space 15623 generation 8 owner 5
leaf 37994496 flags 0x1(WRITTEN) backref revision 1
fs uuid 3a41f46e-eb07-4e01-9e33-f232b0c45511
chunk uuid 65d68ca0-ee27-470f-8f29-d42c4f406328
	item 0 key (256 INODE_ITEM 0) itemoff 16123 itemsize 160
		inode generation 3 transid 8 size 20 nbytes 16384
		block group 0 mode 40755 links 1 uid 0 gid 0 rdev 0
		sequence 0 flags 0x1(none)
		atime 1497765844.489631831 (2017-06-18 11:34:04)
		ctime 1497765844.489631831 (2017-06-18 11:34:04)
		mtime 1497765844.489631831 (2017-06-18 11:34:04)
		otime 1497765515.0 (2017-06-18 11:28:35)
	item 1 key (256 INODE_REF 256) itemoff 16111 itemsize 12
		inode ref index 0 namelen 2 name: ..
	item 2 key (256 DIR_ITEM 1617082575) itemoff 16071 itemsize 40
		location key (257 INODE_ITEM 0) type FILE
		transid 8 data_len 0 name_len 10
		name: file8m.txt
	item 3 key (256 DIR_INDEX 2) itemoff 16031 itemsize 40
		location key (257 INODE_ITEM 0) type FILE
		transid 8 data_len 0 name_len 10
		name: file8m.txt
	item 4 key (257 INODE_ITEM 0) itemoff 15871 itemsize 160
		inode generation 8 transid 8 size 8388608 nbytes 8388608
		block group 0 mode 100644 links 1 uid 0 gid 0 rdev 0
		sequence 0 flags 0x40(none)
		atime 1497765844.489631831 (2017-06-18 11:34:04)
		ctime 1497765844.501623708 (2017-06-18 11:34:04)
		mtime 1497765844.501623708 (2017-06-18 11:34:04)
		otime 1497765844.489631831 (2017-06-18 11:34:04)
	item 5 key (257 INODE_REF 256) itemoff 15851 itemsize 20
		inode ref index 2 namelen 10 name: file8m.txt
	item 6 key (257 EXTENT_DATA 0) itemoff 15798 itemsize 53
		generation 8 type 1 (regular)
		extent data disk byte 153223168 nr 8388608
		extent data offset 0 nr 8388608 ram 8388608
		extent compression 0 (none)
checksum tree key (CSUM_TREE ROOT_ITEM 0) 
leaf 38010880 items 3 free space 8016 generation 8 owner 7
leaf 38010880 flags 0x1(WRITTEN) backref revision 1
fs uuid 3a41f46e-eb07-4e01-9e33-f232b0c45511
chunk uuid 65d68ca0-ee27-470f-8f29-d42c4f406328
	item 0 key (EXTENT_CSUM EXTENT_CSUM 153223168) itemoff 13851 itemsize 2432
		extent csum item
	item 1 key (EXTENT_CSUM EXTENT_CSUM 155713536) itemoff 8603 itemsize 5248
		extent csum item
	item 2 key (EXTENT_CSUM EXTENT_CSUM 161087488) itemoff 8091 itemsize 512
		extent csum item
uuid tree key (UUID_TREE ROOT_ITEM 0) 
leaf 37765120 items 0 free space 16283 generation 6 owner 9
leaf 37765120 flags 0x1(WRITTEN) backref revision 1
fs uuid 3a41f46e-eb07-4e01-9e33-f232b0c45511
chunk uuid 65d68ca0-ee27-470f-8f29-d42c4f406328
data reloc tree key (DATA_RELOC_TREE ROOT_ITEM 0) 
leaf 37830656 items 2 free space 16061 generation 4 owner 18446744073709551607
leaf 37830656 flags 0x1(WRITTEN) backref revision 1
fs uuid 3a41f46e-eb07-4e01-9e33-f232b0c45511
chunk uuid 65d68ca0-ee27-470f-8f29-d42c4f406328
	item 0 key (256 INODE_ITEM 0) itemoff 16123 itemsize 160
		inode generation 3 transid 0 size 0 nbytes 16384
		block group 0 mode 40755 links 1 uid 0 gid 0 rdev 0
		sequence 0 flags 0x0(none)
		atime 1497765515.0 (2017-06-18 11:28:35)
		ctime 1497765515.0 (2017-06-18 11:28:35)
		mtime 1497765515.0 (2017-06-18 11:28:35)
		otime 1497765515.0 (2017-06-18 11:28:35)
	item 1 key (256 INODE_REF 256) itemoff 16111 itemsize 12
		inode ref index 0 namelen 2 name: ..
total bytes 1610612736
bytes used 8650752
uuid 3a41f46e-eb07-4e01-9e33-f232b0c45511
Single extent found.
logical_addr: 153223168 length=8388608 		total_stripe=128
############### umount /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/tests/mnt
D100xxxx: Corrupting /dev/loop1 at position 70451200 	which has D100xxxxxxxxxxxx
Found on-disk value: D100xxxxxxxxxxxx 
Corruption completed at 70451200
D90xxxx: Corrupting /dev/loop0 at position 90046464 	which has D90xxxxxxxxxxxxx
Found on-disk value: D90xxxxxxxxxxxxx 
Corruption completed at 90046464
D80xxxx: Corrupting /dev/loop2 at position 69795840 	which has D80xxxxxxxxxxxxx
Found on-disk value: D80xxxxxxxxxxxxx 
Corruption completed at 69795840
D70xxxx: Corrupting /dev/loop1 at position 69468160 	which has D70xxxxxxxxxxxxx
Found on-disk value: D70xxxxxxxxxxxxx 
Corruption completed at 69468160
D60xxxx: Corrupting /dev/loop0 at position 89063424 	which has D60xxxxxxxxxxxxx
Found on-disk value: D60xxxxxxxxxxxxx 
Corruption completed at 89063424
D50xxxx: Corrupting /dev/loop2 at position 68812800 	which has D50xxxxxxxxxxxxx
Found on-disk value: D50xxxxxxxxxxxxx 
Corruption completed at 68812800
D40xxxx: Corrupting /dev/loop1 at position 68485120 	which has D40xxxxxxxxxxxxx
Found on-disk value: D40xxxxxxxxxxxxx 
Corruption completed at 68485120
D30xxxx: Corrupting /dev/loop0 at position 88080384 	which has D30xxxxxxxxxxxxx
Found on-disk value: D30xxxxxxxxxxxxx 
Corruption completed at 88080384
D20xxxx: Corrupting /dev/loop2 at position 67829760 	which has D20xxxxxxxxxxxxx
Found on-disk value: D20xxxxxxxxxxxxx 
Corruption completed at 67829760
D10xxxx: Corrupting /dev/loop1 at position 67502080 	which has D10xxxxxxxxxxxxx
Found on-disk value: D10xxxxxxxxxxxxx 
Corruption completed at 67502080
############### btrfs scrub start --offline /dev/loop0
ERROR: data at bytenr 153878528 mirror 0 csum mismatch, have 0x790f1fe1 expect 0x9afc78d5
ERROR: data at bytenr 154533888 mirror 0 csum mismatch, have 0x790f1fe1 expect 0xed794c86
ERROR: data at bytenr 155189248 mirror 0 csum mismatch, have 0x790f1fe1 expect 0xc005a0b7
ERROR: data at bytenr 155844608 mirror 0 csum mismatch, have 0x790f1fe1 expect 0x02732420
ERROR: data at bytenr 156499968 mirror 0 csum mismatch, have 0x790f1fe1 expect 0x2f0fc811
ERROR: data at bytenr 157155328 mirror 0 csum mismatch, have 0x790f1fe1 expect 0x588afc42
ERROR: data at bytenr 157810688 mirror 0 csum mismatch, have 0x790f1fe1 expect 0x75f61073
ERROR: data at bytenr 158466048 mirror 0 csum mismatch, have 0x790f1fe1 expect 0xd98b839d
ERROR: data at bytenr 159121408 mirror 0 csum mismatch, have 0x790f1fe1 expect 0xf4f76fac
ERROR: data at bytenr 159776768 mirror 0 csum mismatch, have 0x790f1fe1 expect 0xa3f7189c
full stripe 153878528 REPARIED: corrupted data with good P/Q, repaired
full stripe 154533888 REPARIED: corrupted data with good P/Q, repaired
full stripe 155189248 REPARIED: corrupted data with good P/Q, repaired
full stripe 155844608 REPARIED: corrupted data with good P/Q, repaired
full stripe 156499968 REPARIED: corrupted data with good P/Q, repaired
full stripe 157155328 REPARIED: corrupted data with good P/Q, repaired
full stripe 157810688 REPARIED: corrupted data with good P/Q, repaired
full stripe 158466048 REPARIED: corrupted data with good P/Q, repaired
full stripe 159121408 REPARIED: corrupted data with good P/Q, repaired
full stripe 159776768 REPARIED: corrupted data with good P/Q, repaired
Scrub result:
Tree bytes scrubbed: 131072
Tree extents scrubbed: 8
Data bytes scrubbed: 9003008
Data extents scrubbed: 3
Data bytes without csum: 131072
Read error: 0
Verify error: 0
Csum error: 10
############### mount /dev/loop0 /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/tests/mnt
Scrub corrected value: D100xxxxxxxxxxxx
Parity_stripe_entry:/dev/loop2|70451200|00000001000000000000000000000000
Parity: before=00000001000000000000000000000000 after=00000001000000000000000000000000
Parity stripe check passed.
Scrub corrected value: D90xxxxxxxxxxxxx
Parity_stripe_entry:/dev/loop1|70123520|00000100000000000000000000000000
Parity: before=00000100000000000000000000000000 after=00000100000000000000000000000000
Parity stripe check passed.
Scrub corrected value: D80xxxxxxxxxxxxx
Parity_stripe_entry:/dev/loop0|89718784|00000100000000000000000000000000
Parity: before=00000100000000000000000000000000 after=00000100000000000000000000000000
Parity stripe check passed.
Scrub corrected value: D70xxxxxxxxxxxxx
Parity_stripe_entry:/dev/loop2|69468160|00000100000000000000000000000000
Parity: before=00000100000000000000000000000000 after=00000100000000000000000000000000
Parity stripe check passed.
Scrub corrected value: D60xxxxxxxxxxxxx
Parity_stripe_entry:/dev/loop1|69140480|00000100000000000000000000000000
Parity: before=00000100000000000000000000000000 after=00000100000000000000000000000000
Parity stripe check passed.
Scrub corrected value: D50xxxxxxxxxxxxx
Parity_stripe_entry:/dev/loop0|88735744|00000100000000000000000000000000
Parity: before=00000100000000000000000000000000 after=00000100000000000000000000000000
Parity stripe check passed.
Scrub corrected value: D40xxxxxxxxxxxxx
Parity_stripe_entry:/dev/loop2|68485120|00000100000000000000000000000000
Parity: before=00000100000000000000000000000000 after=00000100000000000000000000000000
Parity stripe check passed.
Scrub corrected value: D30xxxxxxxxxxxxx
Parity_stripe_entry:/dev/loop1|68157440|00000100000000000000000000000000
Parity: before=00000100000000000000000000000000 after=00000100000000000000000000000000
Parity stripe check passed.
Scrub corrected value: D20xxxxxxxxxxxxx
Parity_stripe_entry:/dev/loop0|87752704|00000100000000000000000000000000
Parity: before=00000100000000000000000000000000 after=00000100000000000000000000000000
Parity stripe check passed.
Scrub corrected value: D10xxxxxxxxxxxxx
Parity_stripe_entry:/dev/loop2|67502080|00000100000000000000000000000000
Parity: before=00000100000000000000000000000000 after=00000100000000000000000000000000
Parity stripe check passed.
############### umount /home/laks/centos/laks/BTRFS/scrub_offline/btrfs-progs/tests/mnt
############### losetup -d /dev/loop0
############### losetup -d /dev/loop1
############### losetup -d /dev/loop2
############### losetup --all
